<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>موقع الأستاذ علي العيسني للرياضيات</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gradient-to-br from-slate-50 to-blue-50 font-cairo min-h-screen">
    <style>
      :root {
        /* Primary Colors - Educational Blue */
        --primary-900: #1e3a8a;
        --primary-800: #1e40af;
        --primary-700: #1d4ed8;
        --primary-600: #2563eb;
        --primary-500: #3b82f6;
        --primary-400: #60a5fa;
        --primary-300: #93c5fd;
        --primary-200: #bfdbfe;
        --primary-100: #dbeafe;
        --primary-50: #eff6ff;

        /* Secondary Colors - Complementary Teal */
        --secondary-900: #134e4a;
        --secondary-800: #115e59;
        --secondary-700: #0f766e;
        --secondary-600: #0d9488;
        --secondary-500: #14b8a6;
        --secondary-400: #2dd4bf;
        --secondary-300: #5eead4;
        --secondary-200: #99f6e4;
        --secondary-100: #ccfbf1;
        --secondary-50: #f0fdfa;

        /* Success Colors - Educational Green */
        --success-900: #14532d;
        --success-800: #166534;
        --success-700: #15803d;
        --success-600: #16a34a;
        --success-500: #22c55e;
        --success-400: #4ade80;
        --success-300: #86efac;
        --success-200: #bbf7d0;
        --success-100: #dcfce7;
        --success-50: #f0fdf4;

        /* Warning Colors - Warm Orange */
        --warning-900: #9a3412;
        --warning-800: #c2410c;
        --warning-700: #ea580c;
        --warning-600: #ea580c;
        --warning-500: #f97316;
        --warning-400: #fb923c;
        --warning-300: #fdba74;
        --warning-200: #fed7aa;
        --warning-100: #ffedd5;
        --warning-50: #fff7ed;

        /* Error Colors - Professional Red */
        --error-900: #7f1d1d;
        --error-800: #991b1b;
        --error-700: #b91c1c;
        --error-600: #dc2626;
        --error-500: #ef4444;
        --error-400: #f87171;
        --error-300: #fca5a5;
        --error-200: #fecaca;
        --error-100: #fee2e2;
        --error-50: #fef2f2;

        /* Neutral Colors */
        --neutral-900: #111827;
        --neutral-800: #1f2937;
        --neutral-700: #374151;
        --neutral-600: #4b5563;
        --neutral-500: #6b7280;
        --neutral-400: #9ca3af;
        --neutral-300: #d1d5db;
        --neutral-200: #e5e7eb;
        --neutral-100: #f3f4f6;
        --neutral-50: #f9fafb;
      }

      body {
        font-family: "Tajawal", sans-serif;
        font-size: var(--font-size, 16px);
        zoom: var(--zoom-level, 1);
      }

      .bg-pattern {
        background-color: var(--neutral-50);
        background-image: radial-gradient(
            circle at 25% 25%,
            var(--primary-50) 2px,
            transparent 2px
          ),
          radial-gradient(
            circle at 75% 75%,
            var(--primary-100) 1px,
            transparent 1px
          ),
          linear-gradient(
            45deg,
            transparent 49%,
            rgba(59, 130, 246, 0.02) 50%,
            transparent 51%
          );
        background-size: 50px 50px, 30px 30px, 60px 60px;
        background-position: 0 0, 25px 25px, 0 0;
      }

      .math-pattern {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-opacity='0.03'%3E%3Ctext x='10' y='30' font-size='16' fill='%232563eb'%3E+%3C/text%3E%3Ctext x='60' y='30' font-size='14' fill='%2314b8a6'%3E×%3C/text%3E%3Ctext x='30' y='70' font-size='15' fill='%23f97316'%3E=%3C/text%3E%3Ctext x='70' y='80' font-size='13' fill='%23ef4444'%3E÷%3C/text%3E%3Ctext x='20' y='90' font-size='12' fill='%236366f1'%3E∑%3C/text%3E%3Ctext x='80' y='40' font-size='11' fill='%2310b981'%3E∆%3C/text%3E%3C/g%3E%3C/svg%3E");
      }

      /* Enhanced Modern Exam Editor - Better than Google Forms */
      .modern-exam-container {
        background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        border-radius: 24px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08);
        border: 1px solid #e2e8f0;
        margin-bottom: 32px;
        position: relative;
        overflow: hidden;
      }

      .modern-exam-container::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 6px;
        background: linear-gradient(90deg, #3b82f6, #10b981, #f59e0b, #ef4444);
        border-radius: 24px 24px 0 0;
      }

      .exam-header-modern {
        background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
        border-radius: 20px;
        border: 3px solid transparent;
        background-clip: padding-box;
        margin-bottom: 32px;
        overflow: hidden;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
      }

      .exam-header-modern::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        border-radius: inherit;
        padding: 3px;
        background: linear-gradient(135deg, #3b82f6, #10b981, #f59e0b);
        mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        mask-composite: exclude;
        z-index: -1;
      }

      .exam-header-modern:hover {
        transform: translateY(-4px);
        box-shadow: 0 25px 50px rgba(59, 130, 246, 0.15);
      }

      .exam-title-section {
        background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
        color: white;
        padding: 32px 40px;
        position: relative;
        overflow: hidden;
      }

      .exam-title-section::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
          45deg,
          transparent,
          rgba(255, 255, 255, 0.1),
          transparent
        );
        transform: rotate(45deg);
        animation: shimmer 3s ease-in-out infinite;
      }

      .exam-title-section h2 {
        font-size: 32px;
        font-weight: 800;
        margin-bottom: 8px;
        position: relative;
        z-index: 1;
      }

      .exam-title-section p {
        font-size: 18px;
        opacity: 0.9;
        position: relative;
        z-index: 1;
      }

      .exam-form-content {
        padding: 40px;
      }

      .modern-question-card {
        background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
        border-radius: 20px;
        border: 3px solid transparent;
        background-clip: padding-box;
        margin-bottom: 32px;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
      }

      .modern-question-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        border-radius: inherit;
        padding: 3px;
        background: linear-gradient(135deg, #e2e8f0, #cbd5e1);
        mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        mask-composite: exclude;
        z-index: -1;
        transition: all 0.3s ease;
      }

      .modern-question-card:hover::before {
        background: linear-gradient(135deg, #3b82f6, #10b981);
      }

      .modern-question-card:hover {
        transform: translateY(-6px);
        box-shadow: 0 25px 50px rgba(59, 130, 246, 0.15);
      }

      .modern-question-card.focused::before {
        background: linear-gradient(135deg, #3b82f6, #10b981);
      }

      .modern-question-card.focused {
        transform: translateY(-6px);
        box-shadow: 0 25px 50px rgba(59, 130, 246, 0.2);
      }

      .question-toolbar-modern {
        position: absolute;
        top: 20px;
        left: 20px;
        display: flex;
        gap: 12px;
        opacity: 0;
        transition: all 0.3s ease;
        z-index: 10;
      }

      .modern-question-card:hover .question-toolbar-modern {
        opacity: 1;
      }

      .toolbar-btn-modern {
        width: 44px;
        height: 44px;
        border-radius: 12px;
        border: none;
        background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        color: #374151;
      }

      .toolbar-btn-modern:hover {
        transform: scale(1.1) translateY(-2px);
        box-shadow: 0 12px 35px rgba(0, 0, 0, 0.2);
        background: linear-gradient(135deg, #3b82f6, #10b981);
        color: white;
      }

      .toolbar-btn-modern:disabled {
        opacity: 0.4;
        cursor: not-allowed;
        transform: none;
      }

      .question-content-modern {
        padding: 32px;
        padding-top: 60px;
      }

      .question-number-badge {
        position: absolute;
        top: 20px;
        right: 20px;
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        color: white;
        padding: 8px 16px;
        border-radius: 20px;
        font-weight: bold;
        font-size: 14px;
        box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
      }

      .question-type-selector-modern {
        background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
        border: 2px solid #e2e8f0;
        border-radius: 16px;
        padding: 20px;
        margin-bottom: 24px;
        display: flex;
        align-items: center;
        gap: 16px;
        transition: all 0.3s ease;
      }

      .question-type-selector-modern:hover {
        border-color: var(--primary-300);
        background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
      }

      .type-toggle-modern {
        display: flex;
        background: #ffffff;
        border-radius: 12px;
        padding: 6px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        border: 2px solid #e2e8f0;
      }

      .type-option-modern {
        flex: 1;
        padding: 12px 20px;
        border: none;
        background: transparent;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: 600;
        color: #6b7280;
        position: relative;
      }

      .type-option-modern.active {
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        color: white;
        box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        transform: scale(1.02);
      }

      .type-option-modern:hover:not(.active) {
        background: #f3f4f6;
        color: #374151;
      }

      .question-input-modern {
        width: 100%;
        border: none;
        outline: none;
        font-size: 20px;
        font-weight: 600;
        padding: 24px 0;
        border-bottom: 3px solid #e2e8f0;
        transition: all 0.3s ease;
        background: transparent;
        color: #1f2937;
      }

      .question-input-modern:focus {
        border-bottom-color: var(--primary-500);
        transform: translateY(-2px);
      }

      .question-input-modern::placeholder {
        color: #9ca3af;
        font-style: italic;
        font-weight: 400;
      }

      .options-container-modern {
        margin-top: 32px;
        space-y: 20px;
      }

      .option-item-modern {
        display: flex;
        align-items: center;
        padding: 20px 0;
        border-bottom: 2px solid #f3f4f6;
        transition: all 0.3s ease;
      }

      .option-item-modern:hover {
        background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        border-radius: 12px;
        padding: 20px 16px;
        border-bottom: 2px solid transparent;
      }

      .option-radio-modern {
        width: 28px;
        height: 28px;
        border: 3px solid #d1d5db;
        border-radius: 50%;
        margin-left: 20px;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        background: white;
      }

      .option-radio-modern:hover {
        border-color: var(--primary-400);
        transform: scale(1.1);
      }

      .option-radio-modern.correct {
        border-color: var(--success-500);
        background: linear-gradient(
          135deg,
          var(--success-500),
          var(--success-600)
        );
        box-shadow: 0 4px 15px rgba(34, 197, 94, 0.3);
      }

      .option-radio-modern.correct::after {
        content: "✓";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: white;
        font-size: 16px;
        font-weight: bold;
      }

      .option-input-modern {
        flex: 1;
        border: none;
        outline: none;
        font-size: 18px;
        font-weight: 500;
        padding: 16px 20px;
        border-radius: 12px;
        transition: all 0.3s ease;
        background: #f8fafc;
        color: #1f2937;
      }

      .option-input-modern:focus {
        background: white;
        box-shadow: 0 4px 15px rgba(59, 130, 246, 0.1);
        transform: translateY(-2px);
      }

      .option-input-modern::placeholder {
        color: #9ca3af;
        font-weight: 400;
      }

      .image-upload-modern {
        margin-top: 32px;
        padding: 32px;
        border: 3px dashed #d1d5db;
        border-radius: 20px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
      }

      .image-upload-modern:hover {
        border-color: var(--primary-400);
        background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
        transform: translateY(-4px);
        box-shadow: 0 15px 35px rgba(59, 130, 246, 0.1);
      }

      .image-preview-modern {
        max-width: 100%;
        max-height: 300px;
        object-fit: contain;
        border-radius: 16px;
        margin: 16px 0;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }

      .image-preview-modern:hover {
        transform: scale(1.02);
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
      }

      .question-actions-modern {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 24px 32px;
        border-top: 2px solid #f3f4f6;
        background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        border-radius: 0 0 20px 20px;
      }

      .add-question-btn-modern {
        background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
        border: 3px dashed var(--primary-300);
        color: var(--primary-600);
        padding: 32px;
        border-radius: 20px;
        cursor: pointer;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        text-align: center;
        margin-bottom: 32px;
        position: relative;
        overflow: hidden;
      }

      .modern-header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-opacity='0.05'%3E%3Ctext x='10' y='30' font-size='16' fill='%23ffffff'%3E+%3C/text%3E%3Ctext x='60' y='30' font-size='14' fill='%23ffffff'%3E×%3C/text%3E%3Ctext x='30' y='70' font-size='15' fill='%23ffffff'%3E=%3C/text%3E%3Ctext x='70' y='80' font-size='13' fill='%23ffffff'%3E÷%3C/text%3E%3Ctext x='20' y='90' font-size='12' fill='%23ffffff'%3E∑%3C/text%3E%3Ctext x='80' y='40' font-size='11' fill='%23ffffff'%3E∆%3C/text%3E%3C/g%3E%3C/svg%3E");
      }

      .add-question-btn-modern::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(59, 130, 246, 0.1),
          transparent
        );
        transition: left 0.5s;
      }

      .add-question-btn-modern:hover::before {
        left: 100%;
      }

      .add-question-btn-modern:hover {
        border-color: var(--primary-500);
        background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
        transform: translateY(-6px);
        box-shadow: 0 20px 40px rgba(59, 130, 246, 0.15);
      }

      .exam-schedule-modern {
        background: linear-gradient(135deg, #fff7ed 0%, #fed7aa 100%);
        border: 3px solid var(--warning-300);
        border-radius: 20px;
        padding: 32px;
        margin: 32px 0;
        position: relative;
        overflow: hidden;
      }

      .exam-schedule-modern::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, #f59e0b, #d97706);
        border-radius: 20px 20px 0 0;
      }

      .schedule-input-group-modern {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 24px;
        margin-top: 24px;
      }

      .schedule-input-modern {
        padding: 16px 20px;
        border: 3px solid #e2e8f0;
        border-radius: 12px;
        font-size: 16px;
        font-weight: 500;
        transition: all 0.3s ease;
        background: white;
      }

      .schedule-input-modern:focus {
        border-color: var(--warning-500);
        outline: none;
        box-shadow: 0 0 0 4px rgba(245, 158, 11, 0.1);
        transform: translateY(-2px);
      }

      .exam-save-bar-modern {
        background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
        border-radius: 20px;
        border: 3px solid #e2e8f0;
        padding: 32px 40px;
        margin-top: 40px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
      }

      .save-status-modern {
        display: flex;
        align-items: center;
        gap: 12px;
        color: #6b7280;
        font-size: 16px;
        font-weight: 500;
      }

      .save-status-modern.saving {
        color: var(--warning-600);
      }

      .save-status-modern.saved {
        color: var(--success-600);
      }

      .save-icon-modern {
        width: 24px;
        height: 24px;
        border-radius: 50%;
        border: 3px solid var(--success-500);
        position: relative;
        background: white;
      }

      .save-icon-modern.saving {
        border-color: var(--warning-500);
        animation: spin 1s linear infinite;
      }

      .save-icon-modern.saved::after {
        content: "✓";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: var(--success-500);
        font-weight: bold;
        font-size: 14px;
      }

      .essay-question-modern {
        background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
        border: 3px solid var(--success-200);
        border-radius: 16px;
        padding: 24px;
        margin-top: 20px;
      }

      .essay-answer-preview {
        margin-top: 20px;
        padding: 24px;
        border: 3px dashed #e2e8f0;
        border-radius: 16px;
        background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);
        color: #6b7280;
        text-align: center;
        font-style: italic;
        font-size: 16px;
      }

      .modern-button {
        padding: 16px 32px;
        border-radius: 16px;
        font-weight: 700;
        font-size: 16px;
        transition: all 0.3s ease;
        border: none;
        cursor: pointer;
        position: relative;
        overflow: hidden;
      }

      .modern-button::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.2),
          transparent
        );
        transition: left 0.5s;
      }

      .modern-button:hover::before {
        left: 100%;
      }

      .btn-primary-modern {
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        color: white;
        box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
      }

      .btn-primary-modern:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 35px rgba(59, 130, 246, 0.4);
      }

      .btn-success-modern {
        background: linear-gradient(135deg, #10b981, #059669);
        color: white;
        box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
      }

      .btn-success-modern:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 35px rgba(16, 185, 129, 0.4);
      }

      .btn-warning-modern {
        background: linear-gradient(135deg, #f59e0b, #d97706);
        color: white;
        box-shadow: 0 8px 25px rgba(245, 158, 11, 0.3);
      }

      .btn-warning-modern:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 35px rgba(245, 158, 11, 0.4);
      }

      .btn-secondary-modern {
        background: linear-gradient(135deg, #6b7280, #4b5563);
        color: white;
        box-shadow: 0 8px 25px rgba(107, 114, 128, 0.3);
      }

      .btn-secondary-modern:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 35px rgba(107, 114, 128, 0.4);
      }

      /* Enhanced Success/Error Notifications */
      .notification-success {
        background: linear-gradient(
          135deg,
          var(--success-500),
          var(--success-600)
        );
        color: white;
        box-shadow: 0 8px 32px rgba(34, 197, 94, 0.3);
      }

      .notification-error {
        background: linear-gradient(135deg, var(--error-500), var(--error-600));
        color: white;
        box-shadow: 0 8px 32px rgba(239, 68, 68, 0.3);
      }

      .notification-warning {
        background: linear-gradient(
          135deg,
          var(--warning-500),
          var(--warning-600)
        );
        color: white;
        box-shadow: 0 8px 32px rgba(245, 158, 11, 0.3);
      }

      .notification-info {
        background: linear-gradient(
          135deg,
          var(--primary-500),
          var(--primary-600)
        );
        color: white;
        box-shadow: 0 8px 32px rgba(59, 130, 246, 0.3);
      }

      /* Modern Navigation Dropdown Styles - تحسين مع خطوط أصغر */
      .nav-dropdown {
        position: relative;
        display: inline-block;
      }

      .nav-dropdown-content {
        position: absolute;
        top: 100%;
        right: 0;
        background: white;
        min-width: 240px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
        border-radius: 16px;
        z-index: 1000;
        border: 2px solid #e5e7eb;
        overflow: hidden;
        opacity: 0;
        visibility: hidden;
        transform: translateY(-10px) scale(0.95);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        backdrop-filter: blur(10px);
      }

      .nav-dropdown:hover .nav-dropdown-content,
      .nav-dropdown.active .nav-dropdown-content {
        opacity: 1;
        visibility: visible;
        transform: translateY(0) scale(1);
      }

      .nav-dropdown-item {
        color: #374151;
        padding: 12px 16px;
        text-decoration: none;
        display: flex;
        align-items: center;
        transition: all 0.3s ease;
        border-bottom: 1px solid #f3f4f6;
        font-weight: 500;
        cursor: pointer;
        font-size: 14px;
      }

      .nav-dropdown-item:hover {
        background: linear-gradient(
          135deg,
          var(--primary-50),
          var(--primary-100)
        );
        color: var(--primary-700);
        transform: translateX(4px);
        box-shadow: inset 4px 0 0 var(--primary-500);
      }

      .nav-dropdown-item:last-child {
        border-bottom: none;
      }

      .nav-dropdown-item .icon {
        margin-left: 8px;
        width: 16px;
        height: 16px;
        opacity: 0.7;
        transition: all 0.3s ease;
      }

      .nav-dropdown-item:hover .icon {
        opacity: 1;
        transform: scale(1.1);
      }

      /* Mobile Navigation Improvements - تحسين للجوال */
      .mobile-nav-toggle {
        display: none;
        background: rgba(255, 255, 255, 0.1);
        border: 2px solid rgba(255, 255, 255, 0.2);
        border-radius: 8px;
        padding: 8px;
        color: white;
        cursor: pointer;
        transition: all 0.3s ease;
        backdrop-filter: blur(10px);
      }

      .mobile-nav-toggle:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: scale(1.05);
      }

      .mobile-nav-menu {
        display: none;
        position: fixed;
        top: 0;
        right: 0;
        width: 100%;
        height: 100vh;
        background: rgba(30, 64, 175, 0.95);
        backdrop-filter: blur(20px);
        z-index: 1000;
        padding: 80px 20px 20px;
        overflow-y: auto;
      }

      .mobile-nav-menu.active {
        display: block;
        animation: slideInRight 0.3s ease-out;
      }

      .mobile-nav-item {
        display: block;
        color: white;
        padding: 16px;
        margin: 8px 0;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.1);
        border: 2px solid rgba(255, 255, 255, 0.2);
        text-decoration: none;
        transition: all 0.3s ease;
        font-weight: 600;
        font-size: 16px;
      }

      .mobile-nav-item:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: translateX(-5px);
      }

      .mobile-nav-close {
        position: absolute;
        top: 20px;
        left: 20px;
        background: rgba(255, 255, 255, 0.2);
        border: 2px solid rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        width: 44px;
        height: 44px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 20px;
      }

      .mobile-nav-close:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: scale(1.1);
      }

      /* Enhanced Exam Card Styles */
      .exam-card {
        background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
        border: 2px solid transparent;
        border-radius: 20px;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
      }

      .exam-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(
          90deg,
          var(--primary-500),
          var(--success-500)
        );
        border-radius: 20px 20px 0 0;
      }

      .exam-card:hover {
        transform: translateY(-6px);
        box-shadow: 0 25px 50px -12px rgba(30, 64, 175, 0.25);
        border-color: var(--primary-300);
      }

      .scheduled-exam-badge {
        position: absolute;
        top: 16px;
        right: 16px;
        background: linear-gradient(
          135deg,
          var(--warning-500),
          var(--warning-600)
        );
        color: white;
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: bold;
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .draft-badge {
        background: linear-gradient(
          135deg,
          var(--neutral-400),
          var(--neutral-500)
        );
      }

      /* Enhanced File Preview Styles */
      .file-preview-container {
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        border: 2px solid #e2e8f0;
        border-radius: 16px;
        padding: 20px;
        margin: 20px 0;
        text-align: center;
        transition: all 0.3s ease;
      }

      .file-preview-container.has-file {
        border-color: var(--success-300);
        background: linear-gradient(
          135deg,
          var(--success-50) 0%,
          var(--success-100) 100%
        );
      }

      .file-preview-image {
        max-width: 100%;
        max-height: 200px;
        object-fit: contain;
        border-radius: 12px;
        margin: 10px auto;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .file-preview-image:hover {
        transform: scale(1.05);
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
      }

      .file-info {
        background: white;
        border-radius: 8px;
        padding: 12px;
        margin: 10px 0;
        border: 1px solid #e5e7eb;
      }

      .remove-file-btn {
        background: var(--error-500);
        color: white;
        border: none;
        border-radius: 8px;
        padding: 8px 16px;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-top: 10px;
      }

      .remove-file-btn:hover {
        background: var(--error-600);
        transform: translateY(-2px);
      }

      /* Enhanced Parent Tracking - Professional Card Layout */
      .parent-tracking-modern {
        background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        border-radius: 24px;
        padding: 40px;
        margin-bottom: 32px;
        box-shadow: 0 20px 40px rgba(59, 130, 246, 0.12);
        border: 2px solid var(--primary-100);
        position: relative;
        overflow: hidden;
      }

      .parent-tracking-modern::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 6px;
        background: linear-gradient(90deg, #3b82f6, #10b981, #f59e0b);
        border-radius: 24px 24px 0 0;
      }

      .tracking-cards-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 32px;
        margin-top: 40px;
      }

      .week-tracking-card {
        background: white;
        border-radius: 24px;
        padding: 32px;
        box-shadow: 0 16px 40px rgba(0, 0, 0, 0.08);
        border: 3px solid transparent;
        background-clip: padding-box;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
      }

      .week-tracking-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        border-radius: inherit;
        padding: 3px;
        background: linear-gradient(135deg, #e2e8f0, #cbd5e1);
        mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        mask-composite: exclude;
        z-index: -1;
        transition: all 0.3s ease;
      }

      .week-tracking-card:hover::before {
        background: linear-gradient(135deg, #3b82f6, #10b981);
      }

      .week-tracking-card:hover {
        transform: translateY(-12px) scale(1.02);
        box-shadow: 0 32px 64px rgba(0, 0, 0, 0.15);
      }

      .week-header-card {
        text-align: center;
        margin-bottom: 32px;
        padding-bottom: 24px;
        border-bottom: 3px solid var(--primary-100);
        position: relative;
      }

      .week-header-card::after {
        content: "";
        position: absolute;
        bottom: -3px;
        left: 50%;
        transform: translateX(-50%);
        width: 60px;
        height: 3px;
        background: linear-gradient(90deg, #3b82f6, #10b981);
        border-radius: 2px;
      }

      .week-title-card {
        font-size: 28px;
        font-weight: 800;
        color: var(--primary-700);
        margin-bottom: 12px;
        background: linear-gradient(135deg, #1e40af, #3b82f6);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .week-summary {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
        margin-bottom: 32px;
      }

      .summary-metric {
        background: linear-gradient(
          135deg,
          var(--primary-50),
          var(--primary-100)
        );
        border-radius: 16px;
        padding: 24px;
        text-align: center;
        border: 2px solid var(--primary-200);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .summary-metric:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 24px rgba(59, 130, 246, 0.15);
      }

      .summary-metric::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(90deg, #3b82f6, #10b981);
        border-radius: 16px 16px 0 0;
      }

      .metric-value {
        font-size: 36px;
        font-weight: 800;
        color: var(--primary-700);
        margin-bottom: 8px;
        line-height: 1;
      }

      .metric-label {
        font-size: 16px;
        color: var(--primary-600);
        font-weight: 600;
      }

      .days-overview {
        display: flex;
        justify-content: space-between;
        gap: 12px;
        margin-top: 24px;
      }

      .day-indicator {
        flex: 1;
        background: var(--neutral-100);
        border-radius: 12px;
        padding: 12px 8px;
        text-align: center;
        font-size: 14px;
        font-weight: 600;
        transition: all 0.3s ease;
        border: 2px solid transparent;
      }

      .day-indicator:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
      }

      .day-indicator.present {
        background: linear-gradient(
          135deg,
          var(--success-100),
          var(--success-200)
        );
        color: var(--success-800);
        border-color: var(--success-300);
      }

      .day-indicator.absent {
        background: linear-gradient(135deg, var(--error-100), var(--error-200));
        color: var(--error-800);
        border-color: var(--error-300);
      }

      .day-indicator.late {
        background: linear-gradient(
          135deg,
          var(--warning-100),
          var(--warning-200)
        );
        color: var(--warning-800);
        border-color: var(--warning-300);
      }

      /* Enhanced Student Progress Cards */
      .progress-card {
        background: white;
        border-radius: 20px;
        padding: 28px;
        margin-bottom: 24px;
        box-shadow: 0 12px 32px rgba(0, 0, 0, 0.08);
        border: 2px solid #e5e7eb;
        transition: all 0.4s ease;
        position: relative;
        overflow: hidden;
      }

      .progress-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, #3b82f6, #10b981, #f59e0b);
        border-radius: 20px 20px 0 0;
      }

      .progress-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 20px 48px rgba(0, 0, 0, 0.12);
        border-color: var(--primary-300);
      }

      .progress-header {
        display: flex;
        justify-content: between;
        align-items: center;
        margin-bottom: 24px;
        padding-bottom: 16px;
        border-bottom: 2px solid #f3f4f6;
      }

      .progress-stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 20px;
        margin-bottom: 28px;
      }

      .stat-item {
        background: linear-gradient(135deg, #f8fafc, #f1f5f9);
        border-radius: 16px;
        padding: 20px;
        text-align: center;
        border: 2px solid #e2e8f0;
        transition: all 0.3s ease;
      }

      .stat-item:hover {
        border-color: var(--primary-300);
        transform: translateY(-4px);
        box-shadow: 0 8px 20px rgba(59, 130, 246, 0.1);
      }

      .stat-value {
        font-size: 32px;
        font-weight: 800;
        margin-bottom: 8px;
        background: linear-gradient(135deg, #1e40af, #3b82f6);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .stat-label {
        font-size: 14px;
        color: #6b7280;
        font-weight: 600;
      }

      /* User info styling - smaller and positioned right */
      .user-info-compact {
        display: flex;
        align-items: center;
        gap: 3;
        padding: 8px 12px;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.15);
        font-size: 14px;
      }

      .user-name-compact {
        font-weight: 600;
        color: white;
        margin-bottom: 2px;
      }

      .user-welcome-compact {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.8);
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .welcome-indicator {
        width: 6px;
        height: 6px;
        background: #10b981;
        border-radius: 50%;
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }

      /* Customizable Featured Students Section */
      .featured-students-customizable {
        background: linear-gradient(
          135deg,
          #1e40af 0%,
          #3b82f6 50%,
          #10b981 100%
        );
        border-radius: 24px;
        padding: 40px;
        margin: 32px 0;
        color: white;
        position: relative;
        overflow: hidden;
      }

      .featured-students-customizable::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-opacity='0.1'%3E%3Ctext x='10' y='30' font-size='16' fill='%23ffffff'%3E+%3C/text%3E%3Ctext x='60' y='30' font-size='14' fill='%23ffffff'%3E×%3C/text%3E%3Ctext x='30' y='70' font-size='15' fill='%23ffffff'%3E=%3C/text%3E%3Ctext x='70' y='80' font-size='13' fill='%23ffffff'%3E÷%3C/text%3E%3Ctext x='20' y='90' font-size='12' fill='%23ffffff'%3E∑%3C/text%3E%3Ctext x='80' y='40' font-size='11' fill='%23ffffff'%3E∆%3C/text%3E%3C/g%3E%3C/svg%3E");
        opacity: 0.6;
      }

      .featured-design-container {
        position: relative;
        z-index: 10;
        background: rgba(255, 255, 255, 0.15);
        border-radius: 20px;
        padding: 32px;
        backdrop-filter: blur(15px);
        border: 2px solid rgba(255, 255, 255, 0.2);
        text-align: center;
      }

      .design-preview {
        width: 100%;
        max-width: 500px;
        height: 300px;
        object-fit: cover;
        border-radius: 16px;
        margin: 20px auto;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        transition: all 0.4s ease;
      }

      .design-preview:hover {
        transform: scale(1.05);
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4);
      }

      /* Enhanced Quiz Question Type Styles */
      .quiz-question-container {
        background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        border: 2px solid var(--primary-200);
        border-radius: 12px;
        padding: 20px;
        margin-top: 16px;
      }

      .essay-question-container {
        background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
        border: 2px solid var(--success-200);
        border-radius: 12px;
        padding: 20px;
        margin-top: 16px;
      }

      .question-type-toggle {
        display: flex;
        background: #f1f5f9;
        border-radius: 8px;
        padding: 4px;
        margin-bottom: 16px;
      }

      .type-option {
        flex: 1;
        padding: 8px 16px;
        border: none;
        background: transparent;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: 500;
      }

      .type-option.active {
        background: white;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        color: var(--primary-600);
      }

      .essay-answer-area {
        margin-top: 16px;
        padding: 16px;
        border: 2px dashed #e2e8f0;
        border-radius: 8px;
        background: #f9fafb;
        color: #6b7280;
        text-align: center;
        font-style: italic;
      }

      /* Achievement upload restrictions styles */
      .achievement-upload-limit {
        background: linear-gradient(135deg, #fef3c7, #fed7aa);
        border: 2px solid var(--warning-300);
        border-radius: 16px;
        padding: 20px;
        margin-bottom: 20px;
        text-align: center;
      }

      .upload-count-display {
        background: white;
        border-radius: 12px;
        padding: 15px;
        margin: 15px 0;
        border: 2px solid var(--warning-200);
      }

      .progress-bar-container {
        background: var(--warning-100);
        border-radius: 10px;
        height: 20px;
        overflow: hidden;
        margin: 10px 0;
      }

      .progress-bar-fill {
        background: linear-gradient(
          90deg,
          var(--warning-500),
          var(--warning-600)
        );
        height: 100%;
        transition: width 0.5s ease;
        border-radius: 10px;
      }

      .animate-float {
        animation: float 6s ease-in-out infinite;
      }

      .animate-bounce-gentle {
        animation: bounceGentle 3s ease-in-out infinite;
      }

      .animate-pulse-slow {
        animation: pulseColor 4s ease-in-out infinite;
      }

      /* Enhanced math symbols animation */
      .math-symbol {
        display: inline-block;
        animation: mathFloat 4s ease-in-out infinite;
        font-size: 1.5rem;
        opacity: 0.6;
      }

      @keyframes mathFloat {
        0%,
        100% {
          transform: translateY(0px) rotate(0deg);
        }
        25% {
          transform: translateY(-8px) rotate(2deg);
        }
        50% {
          transform: translateY(-4px) rotate(-1deg);
        }
        75% {
          transform: translateY(-6px) rotate(1deg);
        }
      }

      /* Seasonal Banner Styles */
      .seasonal-banner {
        position: fixed;
        top: 80px;
        right: 20px;
        z-index: 100;
        transform: rotate(5deg);
        animation: seasonalFloat 8s ease-in-out infinite;
        box-shadow: 0 10px 40px rgba(59, 130, 246, 0.3);
        backdrop-filter: blur(10px);
      }

      .seasonal-banner::before {
        content: "";
        position: absolute;
        top: -2px;
        left: -2px;
        right: -2px;
        bottom: -2px;
        background: linear-gradient(45deg, #3b82f6, #10b981, #f59e0b, #ef4444);
        border-radius: inherit;
        z-index: -1;
        animation: borderGlow 3s ease-in-out infinite;
      }

      @keyframes seasonalFloat {
        0%,
        100% {
          transform: rotate(5deg) translateY(0px);
        }
        25% {
          transform: rotate(3deg) translateY(-10px);
        }
        50% {
          transform: rotate(7deg) translateY(-5px);
        }
        75% {
          transform: rotate(2deg) translateY(-15px);
        }
      }

      @keyframes borderGlow {
        0%,
        100% {
          opacity: 0.7;
        }
        50% {
          opacity: 1;
        }
      }

      /* Achievement File Styles */
      .achievement-file-card {
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        border: 2px solid transparent;
        background-clip: padding-box;
        position: relative;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .achievement-file-card:hover {
        transform: translateY(-8px) scale(1.02);
        box-shadow: 0 25px 50px -12px rgba(30, 64, 175, 0.25);
      }

      .file-preview {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-radius: 12px;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .file-preview:hover {
        transform: scale(1.05);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .rating-stars {
        display: flex;
        gap: 4px;
        margin: 8px 0;
      }

      .star {
        width: 24px;
        height: 24px;
        cursor: pointer;
        transition: all 0.2s ease;
        color: #d1d5db;
      }

      .star:hover,
      .star.filled {
        color: #fbbf24;
      }

      /* Enhanced Timer Warning Styles */
      .timer-warning {
        animation: pulseRed 1s infinite;
        background: linear-gradient(135deg, #ef4444, #dc2626) !important;
        color: white !important;
      }

      .timer-critical {
        animation: flashRed 0.5s infinite;
        background: linear-gradient(135deg, #dc2626, #991b1b) !important;
        color: white !important;
      }

      @keyframes pulseRed {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }

      @keyframes flashRed {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.7;
        }
      }

      /* Enhanced Photo Achievement Styles */
      .photo-achievement-external {
        background: white;
        border-radius: 20px;
        padding: 24px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        border: 2px solid transparent;
      }

      .photo-achievement-external:hover {
        transform: translateY(-8px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        border-color: var(--primary-300);
      }

      /* Enhanced Image Preview Styles */
      .achievement-image {
        width: 100%;
        height: 300px;
        object-fit: cover;
        border-radius: 16px;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 2px solid #e5e7eb;
      }

      .achievement-image:hover {
        transform: scale(1.02);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        border-color: var(--primary-300);
      }

      /* Comments System */
      .comment-thread {
        background: #f8fafc;
        border-radius: 12px;
        padding: 16px;
        margin-top: 16px;
        border-left: 4px solid var(--primary-500);
      }

      .comment-item {
        background: white;
        border-radius: 8px;
        padding: 12px;
        margin: 8px 0;
        border: 1px solid #e2e8f0;
      }

      /* Parent Tracking Styles - Horizontal Layout */
      .parent-tracking-layout {
        background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        border-radius: 20px;
        padding: 32px;
        margin-bottom: 24px;
        box-shadow: 0 10px 30px rgba(59, 130, 246, 0.1);
        border: 2px solid var(--primary-100);
      }

      .tracking-timeline {
        display: flex;
        flex-direction: column;
        gap: 24px;
      }

      .tracking-week-horizontal {
        background: white;
        border-radius: 16px;
        padding: 24px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        border: 1px solid #e2e8f0;
        transition: all 0.3s ease;
      }

      .tracking-week-horizontal:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
      }

      .week-header-horizontal {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
        padding-bottom: 16px;
        border-bottom: 2px solid var(--primary-100);
      }

      .week-title-horizontal {
        font-size: 24px;
        font-weight: bold;
        color: var(--primary-700);
        margin-right: 12px;
      }

      .days-grid-horizontal {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 16px;
        margin-bottom: 16px;
      }

      .day-card-horizontal {
        background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        border-radius: 12px;
        padding: 16px;
        border: 2px solid #e2e8f0;
        transition: all 0.3s ease;
      }

      .day-card-horizontal:hover {
        border-color: var(--primary-300);
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(59, 130, 246, 0.1);
      }

      .day-name-horizontal {
        font-size: 16px;
        font-weight: bold;
        color: var(--primary-700);
        margin-bottom: 12px;
        text-align: center;
        padding: 8px;
        background: var(--primary-50);
        border-radius: 8px;
      }

      .day-metrics-horizontal {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .metric-horizontal {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 6px 0;
        border-bottom: 1px solid #f1f5f9;
      }

      .metric-label-horizontal {
        font-size: 14px;
        color: #6b7280;
        font-weight: 500;
      }

      .metric-value-horizontal {
        font-size: 14px;
        font-weight: bold;
        padding: 4px 8px;
        border-radius: 6px;
      }

      /* Icon alignment improvements */
      .icon-text-container {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .feature-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        width: 56px;
        height: 56px;
        border-radius: 16px;
      }

      .feature-text {
        flex: 1;
        line-height: 1.5;
      }

      /* تحسين القوائم العلوية - Modern Navigation Styles */
      .modern-nav {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        border-bottom: 1px solid rgba(226, 232, 240, 0.8);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
        position: sticky;
        top: 0;
        z-index: 50;
      }

      .nav-container {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 12px 0;
      }

      .nav-menu {
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .nav-item {
        position: relative;
        padding: 8px 12px;
        border-radius: 8px;
        font-weight: 500;
        font-size: 14px;
        color: var(--neutral-600);
        transition: all 0.3s ease;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 6px;
        text-decoration: none;
        white-space: nowrap;
      }

      .nav-item:hover {
        background: linear-gradient(
          135deg,
          var(--primary-50),
          var(--primary-100)
        );
        color: var(--primary-700);
        transform: translateY(-1px);
      }

      .nav-item.active {
        background: linear-gradient(
          135deg,
          var(--primary-100),
          var(--primary-200)
        );
        color: var(--primary-800);
        box-shadow: 0 4px 16px rgba(59, 130, 246, 0.2);
      }

      .nav-item .icon {
        width: 16px;
        height: 16px;
        flex-shrink: 0;
      }

      /* تحسين عرض الصفوف */
      .class-filter {
        background: white;
        border-radius: 16px;
        padding: 16px;
        margin-bottom: 20px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        border: 2px solid #e5e7eb;
        transition: all 0.3s ease;
      }

      .class-filter:hover {
        border-color: var(--primary-300);
        box-shadow: 0 8px 20px rgba(59, 130, 246, 0.1);
      }

      .class-dropdown-button {
        position: relative;
        min-width: 140px;
        background: white;
        border: 2px solid #d1d5db;
        border-radius: 8px;
        padding: 8px 12px;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: space-between;
        font-size: 14px;
        font-weight: 500;
      }

      .class-dropdown-button:hover {
        border-color: var(--primary-400);
        background: var(--primary-50);
      }

      .class-dropdown-menu {
        position: absolute;
        top: 100%;
        left: 0;
        width: 100%;
        background: white;
        border: 2px solid #d1d5db;
        border-radius: 8px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        z-index: 20;
        overflow: hidden;
        opacity: 0;
        visibility: hidden;
        transform: translateY(-10px);
        transition: all 0.3s ease;
      }

      .class-dropdown-menu.show {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
      }

      .class-dropdown-item {
        width: 100%;
        padding: 10px 12px;
        background: none;
        border: none;
        text-align: right;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 14px;
        border-bottom: 1px solid #f3f4f6;
      }

      .class-dropdown-item:hover {
        background: var(--primary-50);
        color: var(--primary-700);
      }

      .class-dropdown-item:last-child {
        border-bottom: none;
      }

      /* تحسين اختيار الصفوف في إنشاء الاختبارات */
      .class-selection-modern {
        background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        border: 2px solid var(--primary-200);
        border-radius: 16px;
        padding: 24px;
        margin: 24px 0;
      }

      .class-selection-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 16px;
        margin-top: 16px;
      }

      .class-checkbox-card {
        background: white;
        border: 3px solid #e2e8f0;
        border-radius: 12px;
        padding: 20px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
      }

      .class-checkbox-card:hover {
        border-color: var(--primary-300);
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(59, 130, 246, 0.1);
      }

      .class-checkbox-card.selected {
        border-color: var(--primary-500);
        background: var(--primary-50);
        box-shadow: 0 8px 25px rgba(59, 130, 246, 0.2);
      }

      .class-checkbox-card.selected::before {
        content: "✓";
        position: absolute;
        top: 8px;
        right: 8px;
        background: var(--primary-500);
        color: white;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        font-weight: bold;
      }

      .class-checkbox-input {
        display: none;
      }

      .class-checkbox-label {
        font-size: 16px;
        font-weight: 600;
        color: #374151;
        margin-bottom: 8px;
      }

      .class-checkbox-card.selected .class-checkbox-label {
        color: var(--primary-700);
      }

      /* Improved Dropdown Animation */
      @keyframes slideInRight {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px) rotate(0deg);
        }
        50% {
          transform: translateY(-20px) rotate(2deg);
        }
      }

      @keyframes bounceGentle {
        0%,
        100% {
          transform: translateY(0px) scale(1);
        }
        50% {
          transform: translateY(-10px) scale(1.05);
        }
      }

      @keyframes pulseColor {
        0%,
        100% {
          box-shadow: 0 0 20px rgba(37, 99, 235, 0.3);
        }
        50% {
          box-shadow: 0 0 30px rgba(20, 184, 166, 0.4);
        }
      }

      @keyframes shimmer {
        0% {
          transform: translateX(-100%) translateY(-100%) rotate(45deg);
        }
        100% {
          transform: translateX(100%) translateY(100%) rotate(45deg);
        }
      }

      .card-hover {
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .card-hover:hover {
        transform: translateY(-8px) scale(1.02);
        box-shadow: 0 25px 50px -12px rgba(30, 64, 175, 0.25);
      }

      .math-card {
        background: linear-gradient(
          135deg,
          var(--primary-700) 0%,
          var(--primary-800) 50%,
          var(--primary-900) 100%
        );
        position: relative;
        overflow: hidden;
      }

      .math-card::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
          45deg,
          transparent,
          rgba(255, 255, 255, 0.1),
          transparent
        );
        transform: rotate(45deg);
        transition: all 0.5s;
        opacity: 0;
      }

      .math-card:hover::before {
        animation: shimmer 1.5s ease-in-out;
        opacity: 1;
      }

      .section {
        display: none;
      }

      .section.active {
        display: block;
        animation: fadeInUp 0.6s ease-out;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .tab-item {
        position: relative;
        transition: all 0.3s ease;
        color: var(--neutral-600);
        margin: 0 4px;
      }

      .tab-active {
        color: var(--primary-700) !important;
        font-weight: bold;
        background: linear-gradient(
          135deg,
          var(--primary-50),
          var(--primary-100)
        );
        border-radius: 12px;
      }

      .tab-active::after {
        content: "";
        position: absolute;
        bottom: -2px;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(
          90deg,
          var(--primary-600),
          var(--primary-700)
        );
        border-radius: 2px;
      }

      .timer-animation {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
          transform: scale(1);
        }
        50% {
          opacity: 0.8;
          transform: scale(1.05);
        }
      }

      .question.active {
        animation: slideIn 0.5s ease-out;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateX(30px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .parent-tab.active,
      .class-tab.active,
      .admin-tab.active,
      .week-tab.active {
        border-color: var(--primary-600) !important;
        color: var(--primary-800) !important;
        background: linear-gradient(
          135deg,
          var(--primary-50),
          var(--primary-100)
        );
      }

      .student-card {
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .student-card:hover {
        transform: scale(1.08) rotateZ(2deg);
        box-shadow: 0 20px 40px rgba(30, 64, 175, 0.2);
      }

      .protected-section {
        position: relative;
      }

      .blur-overlay {
        backdrop-filter: blur(10px);
        background: rgba(255, 255, 255, 0.8);
      }

      .access-message {
        background: linear-gradient(
          135deg,
          var(--primary-700) 0%,
          var(--primary-800) 100%
        );
      }

      .math-icon {
        transition: all 0.2s ease;
      }

      .math-icon:hover {
        transform: rotate(360deg) scale(1.2);
        color: var(--warning-500);
      }

      .gradient-text {
        background: linear-gradient(
          135deg,
          var(--primary-700) 0%,
          var(--secondary-600) 100%
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .success-gradient {
        background: linear-gradient(
          135deg,
          var(--success-600),
          var(--success-500)
        );
      }

      .warning-gradient {
        background: linear-gradient(
          135deg,
          var(--warning-600),
          var(--warning-500)
        );
      }

      .error-gradient {
        background: linear-gradient(135deg, var(--error-600), var(--error-500));
      }

      .interactive-button {
        position: relative;
        overflow: hidden;
        transform: perspective(1px) translateZ(0);
      }

      .interactive-button::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.4),
          transparent
        );
        transition: left 0.5s;
      }

      .interactive-button:hover::before {
        left: 100%;
      }

      /* Primary Button Styles */
      .btn-primary {
        background: var(--primary-600);
        color: white;
        border: none;
        transition: all 0.3s ease;
      }

      .btn-primary:hover {
        background: var(--primary-700);
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(37, 99, 235, 0.3);
      }

      /* Secondary Button Styles */
      .btn-secondary {
        background: var(--secondary-600);
        color: white;
        border: none;
        transition: all 0.3s ease;
      }

      .btn-secondary:hover {
        background: var(--secondary-700);
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(20, 184, 166, 0.3);
      }

      /* Feature Card Colors */
      .feature-card-primary {
        background: linear-gradient(
          135deg,
          var(--primary-50) 0%,
          var(--primary-100) 100%
        );
        border: 2px solid transparent;
      }

      .feature-card-primary:hover {
        border-color: var(--primary-300);
      }

      .feature-card-secondary {
        background: linear-gradient(
          135deg,
          var(--secondary-50) 0%,
          var(--secondary-100) 100%
        );
        border: 2px solid transparent;
      }

      .feature-card-secondary:hover {
        border-color: var(--secondary-300);
      }

      .feature-card-success {
        background: linear-gradient(
          135deg,
          var(--success-50) 0%,
          var(--success-100) 100%
        );
        border: 2px solid transparent;
      }

      .feature-card-success:hover {
        border-color: var(--success-300);
      }

      /* Icon Background Colors */
      .icon-primary {
        background-color: var(--primary-600);
      }

      .icon-secondary {
        background-color: var(--secondary-600);
      }

      .icon-success {
        background-color: var(--success-600);
      }

      .icon-warning {
        background-color: var(--warning-600);
      }

      /* Text Colors */
      .text-primary {
        color: var(--primary-700);
      }

      .text-secondary {
        color: var(--secondary-700);
      }

      .text-success {
        color: var(--success-700);
      }

      .text-warning {
        color: var(--warning-700);
      }

      .text-error {
        color: var(--error-700);
      }

      /* New Styles for Additional Features */
      .image-preview {
        max-width: 100%;
        max-height: 400px;
        object-fit: contain;
        border-radius: 12px;
        border: 2px solid #e5e7eb;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      }

      .image-preview:hover {
        transform: scale(1.05);
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        border-color: var(--primary-300);
      }

      .image-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
      }

      .image-modal.active {
        opacity: 1;
        visibility: visible;
      }

      .image-modal img {
        max-width: 95%;
        max-height: 95%;
        object-fit: contain;
        border-radius: 12px;
        transform: scale(0.8);
        transition: all 0.3s ease;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      }

      .image-modal.active img {
        transform: scale(1);
      }

      .image-modal .modal-controls {
        position: absolute;
        top: 20px;
        right: 20px;
        display: flex;
        gap: 12px;
      }

      .image-modal .modal-btn {
        background: rgba(255, 255, 255, 0.9);
        color: #1f2937;
        border: none;
        border-radius: 12px;
        width: 48px;
        height: 48px;
        font-size: 18px;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        backdrop-filter: blur(10px);
      }

      .image-modal .modal-btn:hover {
        background: white;
        transform: scale(1.1);
      }

      .madrasati-card {
        background: linear-gradient(135deg, #10b981 0%, #047857 100%);
        position: relative;
        overflow: hidden;
      }

      .madrasati-card::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
          45deg,
          transparent,
          rgba(255, 255, 255, 0.1),
          transparent
        );
        transform: rotate(45deg);
        transition: all 0.5s;
        opacity: 0;
      }

      .madrasati-card:hover::before {
        animation: shimmer 1.5s ease-in-out;
        opacity: 1;
      }

      .progress-indicator {
        position: relative;
        background: #e5e7eb;
        border-radius: 10px;
        overflow: hidden;
      }

      .progress-bar {
        background: linear-gradient(90deg, #10b981, #059669);
        height: 100%;
        border-radius: 10px;
        transition: width 0.5s ease;
      }

      .attendance-status {
        display: inline-flex;
        align-items: center;
        padding: 6px 12px;
        border-radius: 16px;
        font-weight: 600;
        font-size: 12px;
      }

      .status-present {
        background-color: #dcfce7;
        color: #166534;
      }

      .status-absent {
        background-color: #fee2e2;
        color: #991b1b;
      }

      .status-partial {
        background-color: #fef3c7;
        color: #92400e;
      }

      .status-late {
        background-color: #fed7aa;
        color: #9a3412;
      }

      /* Enhanced Tracking Styles */
      .tracking-day {
        background: #f8fafc;
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        padding: 12px;
        transition: all 0.3s ease;
      }

      .tracking-day:hover {
        border-color: #3b82f6;
        background: #f0f9ff;
      }

      .tracking-day.completed {
        border-color: #10b981;
        background: #ecfdf5;
      }

      .tracking-input {
        border: 1px solid #d1d5db;
        border-radius: 8px;
        padding: 8px 12px;
        width: 100%;
        font-size: 14px;
        transition: all 0.2s ease;
      }

      .tracking-input:focus {
        border-color: #3b82f6;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        outline: none;
      }

      .score-input {
        width: 80px;
        text-align: center;
        font-weight: bold;
      }

      /* PDF Upload Styles */
      .pdf-upload-area {
        border: 2px dashed #d1d5db;
        border-radius: 12px;
        padding: 24px;
        text-align: center;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .pdf-upload-area:hover {
        border-color: #3b82f6;
        background: #f0f9ff;
      }

      .pdf-upload-area.dragover {
        border-color: #10b981;
        background: #ecfdf5;
      }

      .pdf-item {
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 12px;
        padding: 16px;
        display: flex;
        align-items: center;
        justify-content: between;
        transition: all 0.3s ease;
      }

      .pdf-item:hover {
        border-color: #3b82f6;
        box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1);
      }

      .form-container {
        background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        border-radius: 20px;
        padding: 32px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        border: 1px solid #e2e8f0;
      }

      .form-input {
        width: 100%;
        padding: 16px 20px;
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        font-size: 16px;
        transition: all 0.3s ease;
        background: white;
      }

      .form-input:focus {
        border-color: #3b82f6;
        box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);
        outline: none;
      }

      .form-textarea {
        min-height: 120px;
        resize: vertical;
      }

      .submit-button {
        background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
        color: white;
        border: none;
        padding: 16px 32px;
        border-radius: 12px;
        font-size: 18px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
      }

      .submit-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
      }

      /* Photo Achievement Styles */
      .achievement-photo {
        position: relative;
        overflow: hidden;
        border-radius: 16px;
        transition: all 0.3s ease;
      }

      .achievement-photo:hover {
        transform: scale(1.02);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
      }

      .achievement-photo img {
        width: 100%;
        height: 300px;
        object-fit: cover;
        transition: all 0.3s ease;
      }

      .achievement-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        background: linear-gradient(transparent, rgba(0, 0, 0, 0.7));
        color: white;
        padding: 24px;
        transform: translateY(10px);
        opacity: 0;
        transition: all 0.3s ease;
      }

      .achievement-photo:hover .achievement-overlay {
        transform: translateY(0);
        opacity: 1;
      }

      .reaction-button {
        background: rgba(255, 255, 255, 0.2);
        border: 2px solid rgba(255, 255, 255, 0.3);
        color: white;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 14px;
        transition: all 0.3s ease;
        backdrop-filter: blur(10px);
      }

      .reaction-button:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: scale(1.05);
      }

      .reaction-button.active {
        background: var(--primary-600);
        border-color: var(--primary-500);
      }

      .zoom-controls-container {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 1000;
      }

      .zoom-controls {
        display: flex;
        align-items: center;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(0, 0, 0, 0.1);
        border-radius: 12px;
        padding: 8px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        gap: 4px;
        transition: all 0.3s ease;
      }

      .zoom-controls:hover {
        box-shadow: 0 6px 25px rgba(0, 0, 0, 0.2);
        transform: translateY(-1px);
      }

      .zoom-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 36px;
        height: 36px;
        border: none;
        border-radius: 8px;
        background: transparent;
        color: #374151;
        cursor: pointer;
        transition: all 0.2s ease;
        position: relative;
      }

      .zoom-btn:hover {
        background: #f3f4f6;
        color: #111827;
        transform: scale(1.05);
      }

      .zoom-btn:active {
        transform: scale(0.95);
        background: #e5e7eb;
      }

      .zoom-display {
        min-width: 50px;
        text-align: center;
        padding: 0 8px;
      }

      .zoom-level {
        font-size: 14px;
        font-weight: 600;
        color: #374151;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
      }

      /* Dark mode support */
      @media (prefers-color-scheme: dark) {
        .zoom-controls {
          background: rgba(31, 41, 55, 0.95);
          border-color: rgba(255, 255, 255, 0.1);
        }

        .zoom-btn {
          color: #d1d5db;
        }

        .zoom-btn:hover {
          background: rgba(55, 65, 81, 0.8);
          color: #f9fafb;
        }

        .zoom-level {
          color: #d1d5db;
        }
      }

      /* Mobile responsive */
      @media (max-width: 768px) {
        .zoom-controls-container {
          bottom: 15px;
          right: 15px;
        }

        .zoom-controls {
          padding: 6px;
        }

        .zoom-btn {
          width: 32px;
          height: 32px;
        }

        .user-info-compact {
          padding: 6px 8px;
          font-size: 12px;
        }

        .week-tracking-card {
          padding: 20px;
        }

        .summary-metric {
          padding: 16px;
        }

        .metric-value {
          font-size: 28px;
        }
      }

      /* Quick Links */
      .quick-links {
        position: fixed;
        bottom: 20px;
        left: 20px;
        background: white;
        border-radius: 20px;
        padding: 16px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
        z-index: 100;
      }

      .quick-link {
        display: block;
        padding: 8px 16px;
        color: var(--neutral-700);
        text-decoration: none;
        border-radius: 12px;
        transition: all 0.3s ease;
        margin-bottom: 4px;
      }

      .quick-link:hover {
        background: var(--primary-50);
        color: var(--primary-700);
        transform: translateX(4px);
      }

      /* Class Filter Styles */
      .class-tab {
        padding: 12px 24px;
        margin: 0 6px;
        border: 2px solid #e5e7eb;
        border-radius: 12px;
        background: white;
        color: #6b7280;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .class-tab:hover {
        border-color: #3b82f6;
        color: #3b82f6;
      }

      .class-tab.active {
        border-color: var(--primary-600);
        background: var(--primary-50);
        color: var(--primary-800);
      }

      /* Enhanced exam creation form styles */
      .questions-actions {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 24px;
        padding-top: 24px;
        border-top: 2px solid #e5e7eb;
      }

      .exam-actions-bar {
        background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        border-radius: 16px;
        padding: 20px;
        margin-bottom: 20px;
        border: 2px solid var(--primary-100);
      }

      .existing-exams-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .exam-management-card {
        background: white;
        border-radius: 16px;
        padding: 24px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
        border: 2px solid #e2e8f0;
        transition: all 0.3s ease;
        position: relative;
      }

      .exam-management-card:hover {
        border-color: var(--primary-300);
        transform: translateY(-4px);
        box-shadow: 0 12px 35px rgba(59, 130, 246, 0.15);
      }

      .exam-badge {
        position: absolute;
        top: -8px;
        right: -8px;
        background: linear-gradient(
          135deg,
          var(--success-500),
          var(--success-600)
        );
        color: white;
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: bold;
        box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
      }

      /* Responsive Design Improvements - تحسين المتجاوبية */
      @media (max-width: 768px) {
        .container {
          padding-left: 12px;
          padding-right: 12px;
        }

        .nav-menu {
          display: none;
        }

        .mobile-nav-toggle {
          display: flex;
        }

        .nav-dropdown-content {
          position: fixed;
          top: 70px;
          right: 8px;
          left: 8px;
          width: auto;
          min-width: auto;
        }

        .nav-item {
          font-size: 12px;
          padding: 8px 10px;
          margin: 0 1px;
        }

        .nav-item .icon {
          width: 14px;
          height: 14px;
        }

        .math-card h2 {
          font-size: 24px;
        }

        .math-card p {
          font-size: 14px;
        }

        .feature-card-primary,
        .feature-card-secondary,
        .feature-card-success {
          padding: 20px;
        }

        .tracking-day {
          padding: 8px;
          margin-bottom: 8px;
        }

        .score-input {
          width: 60px;
          font-size: 12px;
        }

        .pdf-upload-area {
          padding: 16px;
        }

        .pdf-item {
          padding: 12px;
          flex-direction: column;
          text-align: center;
        }

        .form-container {
          padding: 20px;
        }

        .form-input {
          padding: 12px 16px;
          font-size: 14px;
        }

        .zoom-controls {
          bottom: 80px;
          right: 8px;
          padding: 8px;
        }

        .quick-links {
          bottom: 80px;
          left: 8px;
          padding: 12px;
        }

        .achievement-photo img {
          height: 200px;
        }

        .seasonal-banner {
          right: 8px;
          top: 70px;
          transform: scale(0.8) rotate(3deg);
        }

        .days-grid-horizontal {
          grid-template-columns: 1fr;
        }

        .featured-students-grid {
          grid-template-columns: 1fr;
        }

        .tracking-cards-grid {
          grid-template-columns: 1fr;
        }

        .class-filter {
          padding: 12px;
        }

        .class-tab {
          padding: 8px 12px;
          margin: 0 2px;
          font-size: 12px;
        }

        .existing-exams-grid {
          grid-template-columns: 1fr;
        }

        .exam-management-card {
          padding: 16px;
        }

        .modern-question-card {
          margin-bottom: 20px;
        }

        .question-content-modern {
          padding: 20px;
          padding-top: 45px;
        }

        .exam-header-modern {
          margin-bottom: 20px;
        }

        .exam-form-content {
          padding: 24px;
        }

        .schedule-input-group-modern {
          grid-template-columns: 1fr;
          gap: 16px;
        }

        .class-selection-grid {
          grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
          gap: 12px;
        }

        .class-checkbox-card {
          padding: 16px;
        }

        .class-dropdown-button {
          min-width: 120px;
          padding: 6px 10px;
          font-size: 12px;
        }

        .mobile-nav-item {
          padding: 12px;
          font-size: 14px;
        }
      }

      @media (max-width: 480px) {
        .nav-item {
          font-size: 11px;
          padding: 6px 8px;
          gap: 4px;
        }

        .nav-item .icon {
          width: 12px;
          height: 12px;
        }

        .math-card {
          padding: 20px;
        }

        .math-card h2 {
          font-size: 20px;
        }

        .feature-card-primary,
        .feature-card-secondary,
        .feature-card-success {
          padding: 16px;
        }

        .question-content-modern {
          padding: 16px;
          padding-top: 40px;
        }

        .question-toolbar-modern {
          top: 12px;
          left: 12px;
          gap: 8px;
        }

        .toolbar-btn-modern {
          width: 32px;
          height: 32px;
        }

        .class-selection-grid {
          grid-template-columns: 1fr;
        }

        .class-dropdown-button {
          min-width: 100px;
          padding: 4px 8px;
          font-size: 11px;
        }

        .mobile-nav-close {
          width: 36px;
          height: 36px;
          font-size: 16px;
        }
      }
    </style>
  </head>
  <body class="bg-pattern math-pattern min-h-screen">
    <div id="app">
      <!-- Seasonal Banner -->
      <div id="seasonalBanner" class="seasonal-banner hidden">
        <div
          class="bg-gradient-to-r from-blue-500 via-purple-500 to-green-500 text-white p-6 rounded-2xl max-w-sm"
        >
          <div class="text-center">
            <div class="text-2xl mb-2">🌟 طلاب مميزون هذا الأسبوع</div>
            <div class="text-sm opacity-90 mb-3">
              أبطال الرياضيات الأسبوعيون
            </div>
            <div id="featuredStudents" class="space-y-2 text-sm">
              <!-- سيتم تحميل الطلاب المميزين من البيانات المحفوظة -->
            </div>
            <button
              onclick="closeBanner()"
              class="absolute top-2 right-2 text-white hover:text-gray-200 text-xl"
            >
              ×
            </button>
          </div>
        </div>
      </div>

      <!-- Header -->
      <header
        class="text-white shadow-lg relative overflow-hidden"
        style="
          background: linear-gradient(
            135deg,
            #0f172a 0%,
            #1e293b 25%,
            #334155 50%,
            #475569 75%,
            #64748b 100%
          );
        "
      >
        <!-- Subtle overlay for depth -->
        <div
          class="absolute inset-0 bg-gradient-to-r from-blue-900/10 via-transparent to-indigo-900/10"
        ></div>

        <div class="container mx-auto px-6 py-8 relative z-10">
          <div
            class="flex flex-col lg:flex-row items-center justify-between gap-6"
          >
            <!-- Logo and Title Section -->
            <div class="flex items-center gap-6">
              <div class="flex-shrink-0">
                <div
                  class="bg-gradient-to-br from-blue-500/20 to-indigo-600/20 backdrop-blur-sm rounded-2xl p-4 border border-white/10 shadow-xl"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-10 w-10 text-blue-300"
                    viewBox="0 0 20 20"
                    fill="currentColor"
                  >
                    <path
                      d="M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"
                    />
                  </svg>
                </div>
              </div>

              <div class="text-center lg:text-right">
                <h1
                  class="text-2xl lg:text-3xl font-bold text-white mb-2 leading-tight tracking-wide"
                >
                  موقع الأستاذ علي العيسني
                </h1>
                <p
                  class="text-slate-300 text-sm lg:text-base font-medium flex items-center gap-2 justify-center lg:justify-end"
                >
                  <span
                    class="w-2 h-2 bg-blue-400 rounded-full animate-pulse"
                  ></span>
                  منصة الرياضيات التفاعلية المتطورة
                </p>
              </div>
            </div>

            <!-- Navigation and User Section -->
            <div class="flex items-center gap-4">
              <!-- Mobile Navigation Toggle -->
              <button
                class="lg:hidden bg-white/10 backdrop-blur-sm hover:bg-white/20 p-3 rounded-xl border border-white/20 transition-all duration-300 text-white shadow-lg hover:shadow-xl"
                onclick="toggleMobileNav()"
                aria-label="القائمة"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-5 w-5"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M4 6h16M4 12h16M4 18h16"
                  />
                </svg>
              </button>
              <!-- User Info Section - Compact and Right Aligned -->
              <div id="userInfo" class="hidden items-center gap-3">
                <div class="user-info-compact">
                  <div class="user-name-compact" id="userNameDisplay"></div>
                  <div class="user-welcome-compact">
                    <div class="welcome-indicator"></div>
                    مرحباً بك
                  </div>
                </div>
                <button
                  onclick="logout()"
                  class="bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300 transform hover:scale-105 text-sm"
                >
                  خروج
                </button>
              </div>
              <!-- Login Button -->
              <button
                id="loginBtn"
                onclick="showLoginModal()"
                class="bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white border border-blue-400/30 hover:border-blue-300/50 px-8 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl backdrop-blur-sm"
              >
                <span class="flex items-center gap-2">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-4 w-4"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"
                    />
                  </svg>
                  تسجيل الدخول
                </span>
              </button>
            </div>
          </div>
        </div>

        <!-- Bottom subtle glow -->
        <div
          class="absolute bottom-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-blue-400/50 to-transparent"
        ></div>
      </header>

      <!-- Mobile Navigation Menu -->
      <div id="mobileNavMenu" class="mobile-nav-menu">
        <button class="mobile-nav-close" onclick="closeMobileNav()">
          <svg
            class="w-6 h-6"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M6 18L18 6M6 6l12 12"
            ></path>
          </svg>
        </button>
        <div class="space-y-4">
          <a
            onclick="showSection('home'); closeMobileNav();"
            class="mobile-nav-item"
          >
            <svg
              class="w-5 h-5"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"
              ></path>
            </svg>
            الرئيسية
          </a>

          <a
            onclick="showSection('weeklyPlans'); closeMobileNav();"
            class="mobile-nav-item"
          >
            <svg
              class="w-5 h-5"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
              ></path>
            </svg>
            الخطة الأسبوعية
          </a>

          <a
            onclick="showSection('worksheets'); closeMobileNav();"
            class="mobile-nav-item"
          >
            <svg
              class="w-5 h-5"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
              ></path>
            </svg>
            أوراق العمل
          </a>

          <a
            onclick="showSection('exams'); closeMobileNav();"
            class="mobile-nav-item"
          >
            <svg
              class="w-5 h-5"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
              ></path>
            </svg>
            الاختبارات
          </a>

          <a
            onclick="showSection('achievementFiles'); closeMobileNav();"
            class="mobile-nav-item"
          >
            <svg
              class="w-5 h-5"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"
              ></path>
            </svg>
            ملف الإنجاز
          </a>

          <a
            onclick="showSection('madrasatiPlatform'); closeMobileNav();"
            class="mobile-nav-item"
          >
            <svg
              class="w-5 h-5"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"
              ></path>
            </svg>
            منصة مدرستي
          </a>

          <a
            onclick="showSection('studentTracking'); closeMobileNav();"
            class="mobile-nav-item"
          >
            <svg
              class="w-5 h-5"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
              ></path>
            </svg>
            سجل المتابعة
          </a>

          <a
            onclick="showSection('excellentStudents'); closeMobileNav();"
            class="mobile-nav-item"
          >
            <svg
              class="w-5 h-5"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"
              ></path>
            </svg>
            الطلاب المتميزون
          </a>

          <a
            onclick="showSection('photoAchievements'); closeMobileNav();"
            class="mobile-nav-item"
          >
            <svg
              class="w-5 h-5"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"
              ></path>
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"
              ></path>
            </svg>
            إنجازات مصورة
          </a>

          <a
            onclick="showSection('reminders'); closeMobileNav();"
            class="mobile-nav-item"
          >
            <svg
              class="w-5 h-5"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M15 17h5l-5 5v-5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"
              ></path>
            </svg>
            التذكيرات
          </a>
        </div>
      </div>

      <!-- تحسين القوائم العلوية - Modern Main Navigation -->
      <nav class="modern-nav">
        <div class="container mx-auto px-4">
          <div class="nav-container">
            <div class="nav-menu">
              <a
                onclick="showSection('home')"
                class="nav-item active"
                id="nav-home"
              >
                <svg
                  class="icon"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"
                  />
                </svg>
                الرئيسية
              </a>

              <!-- Modern Dropdown for Educational Content -->
              <div class="nav-dropdown">
                <div class="nav-item">
                  <svg
                    class="icon"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"
                    />
                  </svg>
                  المحتوى التعليمي
                  <svg
                    class="icon"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M19 9l-7 7-7-7"
                    />
                  </svg>
                </div>
                <div class="nav-dropdown-content">
                  <a
                    onclick="showSection('weeklyPlans')"
                    class="nav-dropdown-item"
                  >
                    <svg
                      class="icon"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
                      />
                    </svg>
                    الخطة الأسبوعية
                  </a>
                  <a
                    onclick="showSection('worksheets')"
                    class="nav-dropdown-item"
                  >
                    <svg
                      class="icon"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                      />
                    </svg>
                    أوراق العمل
                  </a>
                </div>
              </div>

              <a onclick="showSection('exams')" class="nav-item" id="nav-exams">
                <svg
                  class="icon"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
                  />
                </svg>
                الاختبارات
              </a>

              <a
                onclick="showSection('achievementFiles')"
                class="nav-item"
                id="nav-achievements"
              >
                <svg
                  class="icon"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2V7z"
                  />
                </svg>
                ملف الإنجاز
              </a>

              <!-- Modern Dropdown for Platform & Tracking -->
              <div class="nav-dropdown">
                <div class="nav-item">
                  <svg
                    class="icon"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
                    />
                  </svg>
                  المنصات والمتابعة
                  <svg
                    class="icon"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M19 9l-7 7-7-7"
                    />
                  </svg>
                </div>
                <div class="nav-dropdown-content">
                  <a
                    onclick="showSection('madrasatiPlatform')"
                    class="nav-dropdown-item"
                  >
                    <svg
                      class="icon"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                      />
                    </svg>
                    منصة مدرستي
                  </a>
                  <a
                    onclick="showSection('studentTracking')"
                    class="nav-dropdown-item"
                  >
                    <svg
                      class="icon"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
                      />
                    </svg>
                    سجل المتابعة
                  </a>
                </div>
              </div>

              <!-- Modern Dropdown for Students & Achievements -->
              <div class="nav-dropdown">
                <div class="nav-item">
                  <svg
                    class="icon"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"
                    />
                  </svg>
                  الطلاب والإنجازات
                  <svg
                    class="icon"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M19 9l-7 7-7-7"
                    />
                  </svg>
                </div>
                <div class="nav-dropdown-content">
                  <a
                    onclick="showSection('excellentStudents')"
                    class="nav-dropdown-item"
                  >
                    <svg
                      class="icon"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"
                      />
                    </svg>
                    الطلاب المتميزون
                  </a>
                  <a
                    onclick="showSection('photoAchievements')"
                    class="nav-dropdown-item"
                  >
                    <svg
                      class="icon"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
                      />
                    </svg>
                    إنجازات مصورة
                  </a>
                </div>
              </div>

              <a
                onclick="showSection('reminders')"
                class="nav-item"
                id="nav-reminders"
              >
                <svg
                  class="icon"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M15 17h5l-5 5v-5zM4.828 21l-.707-.707L18.828 5l.707.707L4.828 21zM21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                  />
                </svg>
                التذكيرات
              </a>

              <a
                id="studentErrorsBtn"
                onclick="showSection('studentErrors')"
                class="nav-item hidden"
              >
                <svg
                  class="icon"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
                  />
                </svg>
                ملف الأخطاء
              </a>

              <a
                id="adminPanelBtn"
                onclick="showSection('adminPanel')"
                class="nav-item hidden"
              >
                <svg
                  class="icon"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"
                  />
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                  />
                </svg>
                لوحة التحكم
              </a>
            </div>
          </div>
        </div>
      </nav>

      <!-- إصلاح Class Filter -->
      <div class="container mx-auto px-4 py-4">
        <div class="class-filter">
          <div class="flex items-center justify-center">
            <span class="text-gray-700 font-medium ml-6">اختر الصف:</span>
            <div class="relative">
              <button
                id="classDropdownButton"
                onclick="toggleClassDropdown()"
                class="class-dropdown-button"
              >
                <span id="selectedClassText">جميع الصفوف</span>
                <svg
                  class="w-4 h-4 transition-transform duration-200"
                  id="dropdownArrow"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M19 9l-7 7-7-7"
                  ></path>
                </svg>
              </button>

              <div id="classDropdownMenu" class="class-dropdown-menu">
                <button
                  onclick="selectClass('all')"
                  class="class-dropdown-item"
                  data-class="all"
                >
                  جميع الصفوف
                </button>
                <button
                  onclick="selectClass('class5A')"
                  class="class-dropdown-item"
                  data-class="class5A"
                >
                  الخامس أ
                </button>
                <button
                  onclick="selectClass('class6D')"
                  class="class-dropdown-item"
                  data-class="class6D"
                >
                  السادس د
                </button>
                <button
                  onclick="selectClass('class6H')"
                  class="class-dropdown-item"
                  data-class="class6H"
                >
                  السادس هـ
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Main Content -->
      <main class="container mx-auto px-4 py-8">
        <!-- Home Section -->
        <section id="home" class="section active">
          <div
            class="bg-white rounded-2xl shadow-2xl p-8 mb-8 math-card text-white relative overflow-hidden"
          >
            <div class="flex flex-col md:flex-row items-center relative z-10">
              <div class="md:w-1/2 mb-6 md:mb-0">
                <h2 class="text-4xl font-bold mb-6 animate-bounce-gentle">
                  اكتشف عالم الرياضيات الممتع
                </h2>
                <p class="text-xl mb-8 leading-relaxed opacity-90">
                  منصة تعليمية متطورة تجعل تعلم الرياضيات مغامرة شيقة ومليئة
                  بالاكتشافات انطلق في رحلة التعلم واصبح نجماً في الأرقام
                </p>
                <div class="flex flex-wrap gap-4">
                  <button
                    onclick="showSection('exams')"
                    class="success-gradient hover:shadow-2xl text-white px-8 py-4 rounded-xl font-bold transition-all duration-300 transform hover:scale-110 interactive-button text-lg"
                  >
                    <span class="math-symbol">📖</span> ابدأ رحلة الاختبارات
                  </button>
                  <button
                    onclick="showSection('weeklyPlans')"
                    class="warning-gradient hover:shadow-2xl text-white px-8 py-4 rounded-xl font-bold transition-all duration-300 transform hover:scale-110 interactive-button text-lg"
                  >
                    📚 استكشف الخطط
                  </button>
                </div>
              </div>
              <div class="md:w-1/2 flex justify-center">
                <div class="relative">
                  <div
                    class="absolute inset-0 rounded-full blur-3xl opacity-30 animate-pulse"
                    style="
                      background: linear-gradient(
                        90deg,
                        var(--primary-400),
                        var(--secondary-400)
                      );
                    "
                  ></div>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-80 w-80 text-blue-300 animate-float relative z-10"
                    viewBox="0 0 20 20"
                    fill="currentColor"
                  >
                    <path
                      d="M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"
                    />
                  </svg>
                </div>
              </div>
            </div>
          </div>
          <!-- Customizable Featured Students Section -->
          <div
            class="featured-students-customizable"
            style="
              background: linear-gradient(
                135deg,
                #4a7c59 0%,
                #6b8e23 50%,
                #8fbc8f 100%
              );
              min-height: 100vh;
              padding: 40px 20px;
            "
          >
            <div class="relative z-10 max-w-7xl mx-auto">
              <div class="text-center mb-12">
                <div
                  class="inline-flex items-center justify-center w-24 h-24 bg-white bg-opacity-25 rounded-full mb-6 shadow-lg"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-12 w-12 text-yellow-400"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                    stroke="none"
                  >
                    <path
                      d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"
                    />
                  </svg>
                </div>
                <h3 class="text-4xl font-bold mb-6 text-white drop-shadow-lg">
                  نجوم الرياضيات هذا الأسبوع
                </h3>
                <p class="text-xl opacity-95 text-white drop-shadow-md">
                  تعرف على أبطال الأسبوع الذين تميزوا في الرياضيات
                </p>
              </div>

              <div class="featured-design-container">
                <h4
                  class="text-3xl font-bold mb-8 text-white text-center drop-shadow-lg"
                >
                  فرسان الريـاضيات
                </h4>
                <p
                  class="text-xl opacity-95 mb-8 text-white text-center drop-shadow-md"
                >
                  للأسـبـوع الثـالـث
                </p>

                <!-- Custom Design Display Area -->
                <div
                  class="design-preview-container bg-white bg-opacity-15 rounded-3xl p-8 backdrop-blur-md shadow-2xl border border-white border-opacity-20"
                >
                  <div class="overflow-hidden rounded-2xl shadow-2xl">
                    <img
                      src="https://dhiwise-assets.s3.ap-south-1.amazonaws.com/uploadAttachments/________-3-1755405029362.jpg"
                      alt="تصميم نجوم الرياضيات"
                      class="design-preview w-full h-auto object-cover"
                      style="
                        min-height: 400px;
                        max-height: none;
                        display: block;
                      "
                    />
                  </div>
                </div>

                <!-- Admin Controls for Design -->
                <div id="designControls" class="hidden mt-8">
                  <div
                    class="bg-white bg-opacity-20 rounded-2xl p-8 backdrop-blur-md border-2 border-white border-opacity-25 shadow-xl"
                  >
                    <h5
                      class="text-xl font-bold mb-6 text-white flex items-center gap-3"
                    >
                      <span class="text-2xl">🛠️</span>
                      إدارة التصميم
                    </h5>
                    <div class="space-y-6">
                      <input
                        type="url"
                        id="designImageUrl"
                        placeholder="رابط الصورة الجديدة..."
                        class="w-full px-6 py-4 rounded-xl bg-white bg-opacity-95 text-gray-800 font-medium border-3 border-green-300 focus:border-green-500 focus:outline-none focus:ring-4 focus:ring-green-200 transition-all duration-300"
                      />
                      <div class="flex gap-6">
                        <button
                          onclick="updateDesignImage()"
                          class="flex-1 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white py-4 px-6 rounded-xl font-bold transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl flex items-center justify-center gap-2"
                        >
                          <span class="text-lg">✅</span>
                          تحديث التصميم
                        </button>
                        <button
                          onclick="resetToDefault()"
                          class="bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 text-white py-4 px-6 rounded-xl font-bold transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl flex items-center justify-center gap-2"
                        >
                          <span class="text-lg">🔄</span>
                          إعادة تعيين
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="text-center mt-12">
                <button
                  onclick="showSection('excellentStudents')"
                  class="bg-gradient-to-r from-yellow-500 to-amber-600 hover:from-yellow-600 hover:to-amber-700 text-white px-12 py-4 rounded-2xl font-bold text-lg transition-all duration-300 transform hover:scale-110 shadow-2xl hover:shadow-3xl border-2 border-yellow-400 border-opacity-50"
                >
                  <span class="flex items-center justify-center gap-3">
                    <span class="text-xl">⭐</span>
                    عرض جميع المتميزين
                    <span class="text-xl">⭐</span>
                  </span>
                </button>
              </div>
            </div>
          </div>

          <style>
            .design-preview-container {
              background: linear-gradient(
                145deg,
                rgba(255, 255, 255, 0.1),
                rgba(255, 255, 255, 0.05)
              );
              backdrop-filter: blur(10px);
              -webkit-backdrop-filter: blur(10px);
            }

            .design-preview {
              transition: transform 0.3s ease;
            }

            .design-preview:hover {
              transform: scale(1.02);
            }

            /* إضافة تأثيرات للنصوص */
            h3,
            h4 {
              text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            }

            /* تحسين الظلال */
            .shadow-3xl {
              box-shadow: 0 35px 60px -12px rgba(0, 0, 0, 0.25);
            }
          </style>

          <!-- Featured Content -->
          <div class="featured-content-section mb-12">
            <div class="section-header text-center mb-12">
              <h2 class="text-4xl font-bold text-gray-800 mb-4">
                ميزات المنصة التعليمية
              </h2>
              <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                اكتشف الأدوات والخدمات المتطورة التي تجعل تعلم الرياضيات تجربة
                ممتعة وفعالة
              </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
              <!-- Interactive Exams Card -->
              <div
                class="feature-card group bg-white rounded-3xl shadow-lg hover:shadow-2xl p-8 transition-all duration-500 transform hover:-translate-y-2 border border-gray-100 relative overflow-hidden"
              >
                <!-- Background Pattern -->
                <div
                  class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-blue-50 to-transparent rounded-full -mr-16 -mt-16"
                ></div>
                <div
                  class="absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-blue-50 to-transparent rounded-full -ml-12 -mb-12"
                ></div>

                <div class="relative z-10">
                  <div class="feature-header mb-6">
                    <div class="feature-icon-container mb-4">
                      <div
                        class="feature-icon bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-4 inline-flex shadow-lg group-hover:scale-110 transition-transform duration-300"
                      >
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          class="h-8 w-8 text-white"
                          fill="none"
                          viewBox="0 0 24 24"
                          stroke="currentColor"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
                          />
                        </svg>
                      </div>
                    </div>
                    <h3
                      class="text-2xl font-bold text-gray-800 mb-3 group-hover:text-blue-600 transition-colors duration-300"
                    >
                      اختبارات تفاعلية ذكية
                    </h3>
                    <div
                      class="feature-badge inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800 mb-4"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-3 w-3 mr-1"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M13 10V3L4 14h7v7l9-11h-7z"
                        />
                      </svg>
                      تقنية متطورة
                    </div>
                  </div>

                  <p class="text-gray-600 mb-6 text-base leading-relaxed">
                    اختبارات ذكية مصممة بعناية لتقييم مستواك الحقيقي وتحديد نقاط
                    القوة والضعف، مع تقارير تفصيلية لمتابعة التقدم.
                  </p>

                  <div class="feature-stats mb-6">
                    <div
                      class="flex items-center justify-between text-sm text-gray-500"
                    >
                      <span class="flex items-center gap-1">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          class="h-4 w-4"
                          fill="none"
                          viewBox="0 0 24 24"
                          stroke="currentColor"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
                          />
                        </svg>
                        15-30 دقيقة
                      </span>
                      <span class="flex items-center gap-1">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          class="h-4 w-4"
                          fill="none"
                          viewBox="0 0 24 24"
                          stroke="currentColor"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
                          />
                        </svg>
                        تقييم فوري
                      </span>
                    </div>
                  </div>

                  <button
                    onclick="showSection('exams')"
                    class="feature-button w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 shadow-md hover:shadow-lg flex items-center justify-center gap-2 group"
                  >
                    <span>ابدأ الاختبار الآن</span>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-5 w-5 transform group-hover:translate-x-1 transition-transform"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M13 7l5 5m0 0l-5 5m5-5H6"
                      />
                    </svg>
                  </button>
                </div>
              </div>

              <!-- Weekly Plans Card -->
              <div
                class="feature-card group bg-white rounded-3xl shadow-lg hover:shadow-2xl p-8 transition-all duration-500 transform hover:-translate-y-2 border border-gray-100 relative overflow-hidden"
              >
                <!-- Background Pattern -->
                <div
                  class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-green-50 to-transparent rounded-full -mr-16 -mt-16"
                ></div>
                <div
                  class="absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-green-50 to-transparent rounded-full -ml-12 -mb-12"
                ></div>

                <div class="relative z-10">
                  <div class="feature-header mb-6">
                    <div class="feature-icon-container mb-4">
                      <div
                        class="feature-icon bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-4 inline-flex shadow-lg group-hover:scale-110 transition-transform duration-300"
                      >
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          class="h-8 w-8 text-white"
                          fill="none"
                          viewBox="0 0 24 24"
                          stroke="currentColor"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
                          />
                        </svg>
                      </div>
                    </div>
                    <h3
                      class="text-2xl font-bold text-gray-800 mb-3 group-hover:text-green-600 transition-colors duration-300"
                    >
                      خطط أسبوعية متطورة
                    </h3>
                    <div
                      class="feature-badge inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800 mb-4"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-3 w-3 mr-1"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"
                        />
                      </svg>
                      منهج معتمد
                    </div>
                  </div>

                  <p class="text-gray-600 mb-6 text-base leading-relaxed">
                    خطط تعليمية شاملة ومنظمة تغطي جميع جوانب المنهج، مع متابعة
                    يومية للتقدم وتحقيق الأهداف التعليمية المحددة.
                  </p>

                  <div class="feature-stats mb-6">
                    <div
                      class="flex items-center justify-between text-sm text-gray-500"
                    >
                      <span class="flex items-center gap-1">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          class="h-4 w-4"
                          fill="none"
                          viewBox="0 0 24 24"
                          stroke="currentColor"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"
                          />
                        </svg>
                        7 أيام/أسبوع
                      </span>
                      <span class="flex items-center gap-1">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          class="h-4 w-4"
                          fill="none"
                          viewBox="0 0 24 24"
                          stroke="currentColor"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M13 10V3L4 14h7v7l9-11h-7z"
                          />
                        </svg>
                        تحديث مستمر
                      </span>
                    </div>
                  </div>

                  <button
                    onclick="showSection('weeklyPlans')"
                    class="feature-button w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 shadow-md hover:shadow-lg flex items-center justify-center gap-2 group"
                  >
                    <span>استكشف الخطط</span>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-5 w-5 transform group-hover:translate-x-1 transition-transform"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M13 7l5 5m0 0l-5 5m5-5H6"
                      />
                    </svg>
                  </button>
                </div>
              </div>

              <!-- Math Stars Card -->
              <div
                class="feature-card group bg-white rounded-3xl shadow-lg hover:shadow-2xl p-8 transition-all duration-500 transform hover:-translate-y-2 border border-gray-100 relative overflow-hidden"
              >
                <!-- Background Pattern -->
                <div
                  class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-amber-50 to-transparent rounded-full -mr-16 -mt-16"
                ></div>
                <div
                  class="absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-amber-50 to-transparent rounded-full -ml-12 -mb-12"
                ></div>

                <div class="relative z-10">
                  <div class="feature-header mb-6">
                    <div class="feature-icon-container mb-4">
                      <div
                        class="feature-icon bg-gradient-to-br from-amber-500 to-amber-600 rounded-2xl p-4 inline-flex shadow-lg group-hover:scale-110 transition-transform duration-300"
                      >
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          class="h-8 w-8 text-white"
                          fill="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"
                          />
                        </svg>
                      </div>
                    </div>
                    <h3
                      class="text-2xl font-bold text-gray-800 mb-3 group-hover:text-amber-600 transition-colors duration-300"
                    >
                      نجوم الرياضيات
                    </h3>
                    <div
                      class="feature-badge inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-amber-100 text-amber-800 mb-4"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-3 w-3 mr-1"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
                        />
                      </svg>
                      قائمة الشرف
                    </div>
                  </div>

                  <p class="text-gray-600 mb-6 text-base leading-relaxed">
                    لوحة شرف تضم أسماء الطلاب المتفوقين والمبدعين في الرياضيات،
                    مع عرض إنجازاتهم وتقديرهم كمصدر إلهام للآخرين.
                  </p>

                  <div class="feature-stats mb-6">
                    <div
                      class="flex items-center justify-between text-sm text-gray-500"
                    >
                      <span class="flex items-center gap-1">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          class="h-4 w-4"
                          fill="none"
                          viewBox="0 0 24 24"
                          stroke="currentColor"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"
                          />
                        </svg>
                        100+ متميز
                      </span>
                      <span class="flex items-center gap-1">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          class="h-4 w-4"
                          fill="none"
                          viewBox="0 0 24 24"
                          stroke="currentColor"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"
                          />
                        </svg>
                        مصدر إلهام
                      </span>
                    </div>
                  </div>

                  <button
                    onclick="showSection('excellentStudents')"
                    class="feature-button w-full bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 shadow-md hover:shadow-lg flex items-center justify-center gap-2 group"
                  >
                    <span>شاهد المتميزين</span>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-5 w-5 transform group-hover:translate-x-1 transition-transform"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M13 7l5 5m0 0l-5 5m5-5H6"
                      />
                    </svg>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <style>
            /* Featured Content Styling */
            .featured-content-section {
              padding: 2rem 0;
            }

            .section-header h2 {
              background: linear-gradient(135deg, #1f2937, #4b5563);
              -webkit-background-clip: text;
              -webkit-text-fill-color: transparent;
              background-clip: text;
            }

            /* Feature Cards */
            .feature-card {
              position: relative;
              background: linear-gradient(145deg, #ffffff, #f8fafc);
              border: 1px solid rgba(229, 231, 235, 0.8);
            }

            .feature-card::before {
              content: "";
              position: absolute;
              top: 0;
              left: 0;
              right: 0;
              height: 4px;
              background: linear-gradient(
                90deg,
                transparent,
                rgba(59, 130, 246, 0.5),
                transparent
              );
              border-radius: 1.5rem 1.5rem 0 0;
              opacity: 0;
              transition: opacity 0.3s ease;
            }

            .feature-card:hover::before {
              opacity: 1;
            }

            .feature-card:nth-child(2)::before {
              background: linear-gradient(
                90deg,
                transparent,
                rgba(34, 197, 94, 0.5),
                transparent
              );
            }

            .feature-card:nth-child(3)::before {
              background: linear-gradient(
                90deg,
                transparent,
                rgba(245, 158, 11, 0.5),
                transparent
              );
            }

            /* Feature Icons */
            .feature-icon {
              transition: all 0.3s ease;
              position: relative;
              overflow: hidden;
            }

            .feature-icon::before {
              content: "";
              position: absolute;
              top: 0;
              left: -100%;
              width: 100%;
              height: 100%;
              background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.3),
                transparent
              );
              transition: left 0.5s ease;
            }

            .feature-card:hover .feature-icon::before {
              left: 100%;
            }

            /* Feature Badges */
            .feature-badge {
              animation: fadeInUp 0.6s ease-out 0.2s both;
            }

            @keyframes fadeInUp {
              from {
                opacity: 0;
                transform: translateY(20px);
              }
              to {
                opacity: 1;
                transform: translateY(0);
              }
            }

            /* Feature Stats */
            .feature-stats {
              border-top: 1px solid rgba(229, 231, 235, 0.5);
              padding-top: 1rem;
              animation: fadeInUp 0.6s ease-out 0.4s both;
            }

            /* Feature Buttons */
            .feature-button {
              position: relative;
              overflow: hidden;
            }

            .feature-button::before {
              content: "";
              position: absolute;
              top: 0;
              left: -100%;
              width: 100%;
              height: 100%;
              background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.2),
                transparent
              );
              transition: left 0.5s ease;
            }

            .feature-button:hover::before {
              left: 100%;
            }

            /* Responsive Design */
            @media (max-width: 768px) {
              .feature-card {
                padding: 1.5rem;
              }

              .section-header h2 {
                font-size: 2rem;
              }

              .section-header p {
                font-size: 1rem;
              }

              .feature-header h3 {
                font-size: 1.5rem;
              }
            }

            /* Animation for cards on scroll */
            .feature-card {
              animation: slideInUp 0.6s ease-out both;
            }

            .feature-card:nth-child(1) {
              animation-delay: 0.1s;
            }
            .feature-card:nth-child(2) {
              animation-delay: 0.2s;
            }
            .feature-card:nth-child(3) {
              animation-delay: 0.3s;
            }

            @keyframes slideInUp {
              from {
                opacity: 0;
                transform: translateY(30px);
              }
              to {
                opacity: 1;
                transform: translateY(0);
              }
            }
          </style>

          <!-- Latest Reminders -->
          <div class="bg-white rounded-2xl shadow-2xl p-8">
            <div class="flex justify-between items-center mb-8">
              <h3 class="text-3xl font-bold gradient-text flex items-center">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-8 w-8 mr-4"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M15 17h5l-5 5v-5zM4.828 21l-.707-.707L18.828 5l.707.707L4.828 21zM21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                  />
                </svg>
                آخر التذكيرات والإعلانات
              </h3>
              <button
                onclick="showSection('reminders')"
                class="text-primary hover:text-primary-800 font-bold transition-all duration-300 px-6 py-3 rounded-xl hover:bg-primary-50"
                style="background-color: var(--primary-50)"
              >
                عرض الكل
              </button>
            </div>
            <div id="latestReminders" class="space-y-6">
              <!-- Latest reminders will be loaded here -->
            </div>
          </div>
        </section>

        <!-- Achievement Files Section (Updated with Upload Limits) -->
        <section id="achievementFiles" class="section hidden">
          <div class="bg-white rounded-2xl shadow-2xl p-8 mb-8">
            <div class="text-center mb-8">
              <div class="flex items-center justify-center mb-4">
                <!-- File/Achievement Icon -->
                <div
                  class="bg-gradient-to-r from-blue-500 to-purple-600 rounded-full p-4 shadow-lg"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-12 w-12 text-white"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                    />
                  </svg>
                </div>
              </div>

              <h2 class="text-4xl font-bold gradient-text mb-4">
                ملف الإنجاز الطلابي
              </h2>
              <p class="text-xl text-neutral-600 leading-relaxed">
                مكان مخصص لعرض إنجازاتك وأعمالك المميزة
              </p>
            </div>

            <!-- Student Upload Section with Limitations -->
            <div
              class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-8 mb-8"
            >
              <!-- Upload Limit Display -->
              <div class="achievement-upload-limit" id="uploadLimitDisplay">
                <div
                  class="bg-orange-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-10 w-10 text-orange-600"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                    />
                  </svg>
                </div>
                <h3 class="text-2xl font-bold text-orange-800 mb-4">
                  📊 سياسة الرفع المحدود
                </h3>
                <p class="text-orange-700 text-lg mb-4">
                  يمكن لكل طالب رفع ملفين إنجاز كحد أقصى لضمان الجودة والتركيز
                </p>
                <div class="upload-count-display" id="currentUploadCount">
                  <div class="flex justify-between items-center mb-2">
                    <span class="font-bold text-orange-800"
                      >عدد الملفات المرفوعة:</span
                    >
                    <span class="font-bold text-orange-600" id="uploadCountText"
                      >0 من 2</span
                    >
                  </div>
                  <div class="progress-bar-container">
                    <div
                      class="progress-bar-fill"
                      id="uploadProgressBar"
                      style="width: 0%"
                    ></div>
                  </div>
                  <p class="text-sm text-orange-600 mt-2" id="uploadStatusText">
                    يمكنك رفع ملفين إضافيين
                  </p>
                </div>
              </div>

              <div class="text-center mb-8">
                <div
                  class="bg-blue-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-10 w-10 text-blue-600"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                    />
                  </svg>
                </div>
                <h3 class="text-2xl font-bold text-blue-800 mb-4">
                  رفع ملف إنجازك
                </h3>
                <p class="text-blue-700 mb-6">
                  شارك إنجازاتك وأعمالك المميزة مع المعلم
                </p>
              </div>

              <div class="max-w-2xl mx-auto" id="uploadFormContainer">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                  <input
                    type="text"
                    id="studentAchievementName"
                    placeholder="اسمك الكامل"
                    class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300"
                  />
                  <select
                    id="studentAchievementClass"
                    class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300"
                  >
                    <option value="">اختر صفك</option>
                    <option value="class5A">الخامس أ</option>
                    <option value="class6D">السادس د</option>
                    <option value="class6H">السادس هـ</option>
                  </select>
                </div>

                <input
                  type="text"
                  id="studentAchievementTitle"
                  placeholder="عنوان الإنجاز (مثل: مشروع الرياضيات)"
                  class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 mb-6"
                />

                <textarea
                  id="studentAchievementDescription"
                  placeholder="وصف مختصر عن إنجازك..."
                  rows="3"
                  class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 mb-6"
                ></textarea>

                <!-- Enhanced File Upload with Preview -->
                <div
                  class="file-preview-container"
                  id="achievementFileUploadArea"
                >
                  <input
                    type="file"
                    id="achievementFileInput"
                    accept="image/*,.pdf"
                    class="hidden"
                    onchange="handleAchievementFileUpload(this)"
                  />

                  <div id="uploadAreaDefault" class="cursor-pointer">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-16 w-16 text-gray-400 mx-auto mb-4"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                      />
                    </svg>
                    <p class="text-gray-600 text-lg font-medium">
                      اضغط لاختيار ملف الإنجاز أو اسحب الملف هنا
                    </p>
                    <p class="text-gray-500 text-sm mt-2">
                      يدعم الصور (PNG, JPG) والملفات (PDF) حتى 10MB
                    </p>
                  </div>

                  <!-- Enhanced File Preview -->
                  <div id="filePreviewArea" class="hidden">
                    <div id="imagePreview" class="hidden">
                      <img
                        id="previewImage"
                        class="file-preview-image"
                        alt="معاينة الصورة"
                        onclick="showImageModal(this.src)"
                      />
                    </div>

                    <div id="pdfPreview" class="hidden">
                      <div class="file-info">
                        <div class="flex items-center justify-center mb-2">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-8 w-8 text-red-600 mr-3"
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke="currentColor"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                              d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                            />
                          </svg>
                          <span
                            id="fileName"
                            class="font-medium text-gray-800"
                          ></span>
                        </div>
                        <p
                          id="fileSize"
                          class="text-sm text-gray-600 text-center"
                        ></p>
                      </div>
                    </div>

                    <button
                      type="button"
                      onclick="removeSelectedFile()"
                      class="remove-file-btn"
                    >
                      🗑️ إزالة الملف
                    </button>
                  </div>
                </div>

                <div class="text-center">
                  <button
                    onclick="uploadAchievementFile()"
                    id="uploadAchievementBtn"
                    class="success-gradient hover:shadow-xl text-white px-8 py-4 rounded-xl font-bold transition-all duration-300 transform hover:scale-105 text-lg"
                  >
                    📤 رفع ملف الإنجاز
                  </button>
                </div>
              </div>

              <!-- Upload Blocked Message -->
              <div
                id="uploadBlockedMessage"
                class="hidden text-center max-w-2xl mx-auto"
              >
                <div class="bg-red-100 border border-red-300 rounded-2xl p-8">
                  <div
                    class="bg-red-200 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-10 w-10 text-red-600"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728"
                      />
                    </svg>
                  </div>
                  <h3 class="text-2xl font-bold text-red-800 mb-4">
                    🚫 تم الوصول للحد الأقصى
                  </h3>
                  <p class="text-red-700 text-lg mb-4">
                    لقد قمت برفع ملفين بالفعل، وهو الحد الأقصى المسموح لكل طالب
                  </p>
                  <div class="bg-white rounded-xl p-6 border border-red-200">
                    <h4 class="font-bold text-red-800 mb-3">💡 اقتراحات:</h4>
                    <ul class="text-red-700 text-right space-y-2">
                      <li>• راجع ملفاتك الحالية وتأكد من جودتها</li>
                      <li>• انتظر مراجعة المعلم وتقييم إنجازاتك</li>
                      <li>• تواصل مع المعلم إذا كنت تحتاج تعديل أحد الملفات</li>
                      <li>• استمر في العمل الجاد وستحصل على فرص جديدة</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>

            <!-- Teacher Review Section (Admin Only) -->
            <div id="teacherReviewSection" class="hidden mb-8">
              <div class="bg-green-50 rounded-2xl p-8">
                <h3
                  class="text-2xl font-bold text-green-800 mb-6 flex items-center"
                >
                  👨‍🏫 مراجعة المعلم
                </h3>
                <div id="pendingAchievements" class="space-y-6">
                  <!-- Pending achievements will be loaded here -->
                </div>
              </div>
            </div>

            <!-- Published Achievements -->
            <div class="space-y-8">
              <h3 class="text-2xl font-bold gradient-text text-center mb-8">
                🏆 الإنجازات المعتمدة
              </h3>
              <div
                id="publishedAchievements"
                class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"
              >
                <!-- Published achievements will be loaded here -->
              </div>
            </div>
          </div>
        </section>

        <!-- Enhanced Photo Achievements Section -->
        <section id="photoAchievements" class="section hidden">
          <div class="bg-white rounded-2xl shadow-2xl p-8 mb-8">
            <div class="text-center mb-8">
              <h2 class="text-4xl font-bold gradient-text mb-4">
                📸 إنجازات مصورة
              </h2>
              <p class="text-xl text-neutral-600 leading-relaxed">
                مشاركة لحظات التميز والإبداع مع طلابنا الأعزاء
              </p>
            </div>

            <!-- Teacher Upload Section (Admin Only) -->
            <div id="teacherPhotoSection" class="hidden mb-8">
              <div class="bg-purple-50 rounded-2xl p-8 mb-8">
                <div class="icon-text-container mb-6">
                  <div class="bg-purple-100 rounded-full p-3">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-8 w-8 text-purple-600"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
                      />
                    </svg>
                  </div>
                  <h3 class="text-2xl font-bold text-purple-800">
                    رفع صورة إنجاز جديدة
                  </h3>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                  <input
                    type="text"
                    id="achievementTitle"
                    placeholder="عنوان الإنجاز"
                    class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300"
                  />
                  <select
                    id="achievementClass"
                    class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300"
                  >
                    <option value="">اختر الصف</option>
                    <option value="class5A">الخامس أ</option>
                    <option value="class6D">السادس د</option>
                    <option value="class6H">السادس هـ</option>
                  </select>
                </div>

                <textarea
                  id="achievementDescription"
                  placeholder="وصف الإنجاز وتفاصيله..."
                  rows="3"
                  class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 mb-6"
                ></textarea>

                <div class="pdf-upload-area mb-6" id="photoUploadArea">
                  <input
                    type="file"
                    id="achievementPhoto"
                    accept="image/*"
                    class="hidden"
                    onchange="handlePhotoUpload(this)"
                  />
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-16 w-16 text-gray-400 mx-auto mb-4"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
                    />
                  </svg>
                  <p class="text-gray-600 text-lg font-medium">
                    اضغط لاختيار صورة أو اسحب الصورة هنا
                  </p>
                  <p class="text-gray-500 text-sm mt-2">
                    PNG, JPG, JPEG حتى 5MB
                  </p>
                </div>

                <div class="text-center">
                  <button
                    onclick="uploadPhotoAchievement()"
                    class="success-gradient hover:shadow-xl text-white px-8 py-4 rounded-xl font-bold transition-all duration-300 transform hover:scale-105 text-lg"
                  >
                    نشر الإنجاز
                  </button>
                </div>
              </div>
            </div>

            <!-- Class Filter for Achievements -->
            <div class="bg-gray-50 rounded-xl p-4 mb-8">
              <div class="flex items-center justify-center">
                <span class="text-gray-700 font-medium ml-4"
                  >فلترة حسب الصف:</span
                >
                <div class="flex flex-wrap gap-3">
                  <button
                    onclick="filterPhotoAchievements('all')"
                    class="achievement-filter-btn bg-blue-600 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300"
                    data-filter="all"
                  >
                    الكل
                  </button>
                  <button
                    onclick="filterPhotoAchievements('class5A')"
                    class="achievement-filter-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium transition-all duration-300"
                    data-filter="class5A"
                  >
                    الخامس أ
                  </button>
                  <button
                    onclick="filterPhotoAchievements('class6D')"
                    class="achievement-filter-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium transition-all duration-300"
                    data-filter="class6D"
                  >
                    السادس د
                  </button>
                  <button
                    onclick="filterPhotoAchievements('class6H')"
                    class="achievement-filter-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium transition-all duration-300"
                    data-filter="class6H"
                  >
                    السادس هـ
                  </button>
                </div>
              </div>
            </div>

            <!-- Photo Achievements List (Enhanced) -->
            <div id="photoAchievementsList" class="space-y-8">
              <!-- Photo achievements will be loaded here -->
            </div>
          </div>
        </section>

        <!-- Student Tracking Section (Professional Redesign V2) -->
        <section id="studentTracking" class="section hidden">
          <div
            class="bg-white rounded-2xl shadow-2xl p-10 mb-10 protected-section relative overflow-hidden"
          >
            <!-- Decorative Background Elements -->
            <div
              class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-500 to-blue-700"
            ></div>
            <div
              class="absolute -top-10 -right-10 w-32 h-32 bg-gradient-to-br from-blue-100 to-blue-200 rounded-full opacity-20"
            ></div>
            <div
              class="absolute -bottom-10 -left-10 w-40 h-40 bg-gradient-to-tr from-blue-50 to-blue-100 rounded-full opacity-15"
            ></div>

            <!-- Header Section -->
            <div class="text-center mb-16 relative">
              <div
                class="bg-gradient-to-br from-blue-600 to-blue-800 rounded-3xl w-28 h-28 flex items-center justify-center mx-auto mb-8 shadow-xl transform hover:scale-105 transition-all duration-300"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-14 w-14 text-white"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                  ></path>
                  <polyline points="14,2 14,8 20,8"></polyline>
                  <line x1="16" y1="13" x2="8" y2="13"></line>
                  <line x1="16" y1="17" x2="8" y2="17"></line>
                  <polyline points="10,9 9,9 8,9"></polyline>
                </svg>
              </div>
              <h2 class="text-4xl font-black text-blue-800 mb-6">
                نظام متابعة الطلاب الذكي
              </h2>
              <p
                class="text-gray-700 text-xl leading-relaxed max-w-3xl mx-auto font-medium"
              >
                منصة متطورة وشاملة لمتابعة وتقييم الأداء الأكاديمي والسلوكي
                للطلاب بطريقة علمية ومنهجية حديثة
              </p>

              <!-- Statistics Cards -->
              <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-12">
                <div
                  class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6 border border-blue-200 shadow-lg"
                >
                  <div class="flex items-center justify-center mb-4">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-8 w-8 text-blue-600"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                    >
                      <path
                        d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"
                      ></path>
                      <circle cx="9" cy="7" r="4"></circle>
                      <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                      <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                    </svg>
                  </div>
                  <div class="text-2xl font-bold text-blue-700 mb-1">100+</div>
                  <div class="text-sm text-blue-600 font-medium">طالب مسجل</div>
                </div>

                <div
                  class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6 border border-blue-200 shadow-lg"
                >
                  <div class="flex items-center justify-center mb-4">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-8 w-8 text-blue-600"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                    >
                      <polyline
                        points="22,12 18,12 15,21 9,3 6,12 2,12"
                      ></polyline>
                    </svg>
                  </div>
                  <div class="text-2xl font-bold text-blue-700 mb-1">100%</div>
                  <div class="text-sm text-blue-600 font-medium">
                    نسبة الحضور
                  </div>
                </div>

                <div
                  class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6 border border-blue-200 shadow-lg"
                >
                  <div class="flex items-center justify-center mb-4">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-8 w-8 text-blue-600"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                    >
                      <path
                        d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
                      ></path>
                    </svg>
                  </div>
                  <div class="text-2xl font-bold text-blue-700 mb-1">5/5</div>
                  <div class="text-sm text-blue-600 font-medium">
                    تقييم الأداء
                  </div>
                </div>
              </div>
            </div>

            <!-- Student Access Section -->
            <div id="studentCodeAccess" class="mb-16">
              <div class="max-w-7xl mx-auto">
                <div class="grid grid-cols-1 xl:grid-cols-3 gap-10">
                  <!-- Access Form -->
                  <div class="xl:col-span-2">
                    <div
                      class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-10 border border-gray-200 shadow-lg relative overflow-hidden"
                    >
                      <!-- Form Header -->
                      <div class="flex items-center mb-8">
                        <div
                          class="bg-gradient-to-br from-blue-600 to-blue-800 rounded-2xl w-16 h-16 flex items-center justify-center ml-6 shadow-lg"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-8 w-8 text-white"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <rect
                              x="3"
                              y="11"
                              width="18"
                              height="11"
                              rx="2"
                              ry="2"
                            ></rect>
                            <circle cx="12" cy="16" r="1"></circle>
                            <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                          </svg>
                        </div>
                        <div>
                          <h3 class="text-2xl font-bold text-gray-800 mb-2">
                            دخول ولي الأمر
                          </h3>
                          <p class="text-gray-600 text-lg">
                            أدخل كود الطالب الخاص للوصول إلى سجل المتابعة
                            التفصيلي
                          </p>
                        </div>
                      </div>

                      <!-- Input Form -->
                      <div class="space-y-6">
                        <div class="relative">
                          <label
                            class="block text-sm font-bold text-gray-800 mb-3 flex items-center"
                          >
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              class="h-5 w-5 ml-2 text-blue-600"
                              viewBox="0 0 24 24"
                              fill="none"
                              stroke="currentColor"
                              stroke-width="2"
                            >
                              <path
                                d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"
                              ></path>
                              <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            كود الطالب الخاص
                          </label>
                          <input
                            type="text"
                            id="studentTrackingCode"
                            placeholder="أدخل كود الطالب المكون من 4 أرقام"
                            maxlength="4"
                            class="w-full px-6 py-4 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 transition-all duration-300 text-center font-mono text-xl bg-white shadow-sm hover:shadow-md"
                          />
                          <div
                            class="absolute inset-y-0 left-0 flex items-center pl-4 pt-8 pointer-events-none"
                          >
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              class="h-6 w-6 text-gray-400"
                              viewBox="0 0 24 24"
                              fill="none"
                              stroke="currentColor"
                              stroke-width="2"
                            >
                              <path
                                d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                              ></path>
                            </svg>
                          </div>
                        </div>

                        <button
                          onclick="accessStudentTracking()"
                          class="w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white py-4 px-6 rounded-xl font-bold text-lg transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] flex items-center justify-center space-x-3"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-6 w-6 ml-3"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <path
                              d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"
                            ></path>
                            <circle cx="12" cy="12" r="3"></circle>
                          </svg>
                          <span>عرض سجل المتابعة التفصيلي</span>
                        </button>
                      </div>
                    </div>
                  </div>

                  <!-- Information Panel -->
                  <div class="space-y-8">
                    <!-- Important Information Card -->
                    <div
                      class="bg-white rounded-2xl p-8 border border-gray-200 shadow-lg hover:shadow-xl transition-all duration-300"
                    >
                      <h4
                        class="font-bold text-gray-800 mb-6 flex items-center text-lg"
                      >
                        <div
                          class="bg-blue-100 rounded-lg w-10 h-10 flex items-center justify-center ml-3"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-5 w-5 text-blue-600"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="16" x2="12" y2="12"></line>
                            <line x1="12" y1="8" x2="12.01" y2="8"></line>
                          </svg>
                        </div>
                        معلومات مهمة
                      </h4>
                      <ul
                        class="text-gray-700 space-y-4 text-sm leading-relaxed"
                      >
                        <li class="flex items-start">
                          <div
                            class="w-3 h-3 bg-blue-500 rounded-full ml-4 mt-1.5 flex-shrink-0 shadow-sm"
                          ></div>
                          <span
                            ><strong>الكود الخاص:</strong> يتم توزيعه من المعلم
                            المختص لكل طالب</span
                          >
                        </li>
                        <li class="flex items-start">
                          <div
                            class="w-3 h-3 bg-blue-500 rounded-full ml-4 mt-1.5 flex-shrink-0 shadow-sm"
                          ></div>
                          <span
                            ><strong>المتابعة:</strong> يومية وأسبوعية بتفاصيل
                            شاملة ودقيقة</span
                          >
                        </li>
                        <li class="flex items-start">
                          <div
                            class="w-3 h-3 bg-blue-500 rounded-full ml-4 mt-1.5 flex-shrink-0 shadow-sm"
                          ></div>
                          <span
                            ><strong>المحتوى:</strong> الحضور، الواجبات،
                            الاختبارات، والسلوك</span
                          >
                        </li>
                        <li class="flex items-start">
                          <div
                            class="w-3 h-3 bg-blue-500 rounded-full ml-4 mt-1.5 flex-shrink-0 shadow-sm"
                          ></div>
                          <span
                            ><strong>التحديث:</strong> مستمر ومباشر من المعلم
                            المسؤول</span
                          >
                        </li>
                      </ul>
                    </div>

                    <!-- Content Overview Card -->
                    <div
                      class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-8 border border-blue-200 shadow-lg"
                    >
                      <h4
                        class="font-bold text-blue-800 mb-6 flex items-center text-lg"
                      >
                        <div
                          class="bg-blue-600 rounded-lg w-10 h-10 flex items-center justify-center ml-3"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-5 w-5 text-white"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <rect
                              x="3"
                              y="4"
                              width="18"
                              height="18"
                              rx="2"
                              ry="2"
                            ></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                          </svg>
                        </div>
                        محتويات السجل التفصيلي
                      </h4>

                      <div class="grid grid-cols-1 gap-4">
                        <div
                          class="flex items-center text-blue-700 bg-white rounded-lg p-3 shadow-sm"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-5 w-5 ml-3 text-blue-600"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <path d="M3 3v5h5"></path>
                            <path d="M21 12A9 9 0 0 0 3 3"></path>
                            <path d="M21 21v-5h-5"></path>
                            <path d="M3 12a9 9 0 0 0 18 9"></path>
                          </svg>
                          <span class="font-medium"
                            >إحصائيات وتحليلات شاملة</span
                          >
                        </div>

                        <div
                          class="flex items-center text-blue-700 bg-white rounded-lg p-3 shadow-sm"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-5 w-5 ml-3 text-blue-600"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <line x1="18" y1="20" x2="18" y2="10"></line>
                            <line x1="12" y1="20" x2="12" y2="4"></line>
                            <line x1="6" y1="20" x2="6" y2="14"></line>
                          </svg>
                          <span class="font-medium">رسوم بيانية تفاعلية</span>
                        </div>

                        <div
                          class="flex items-center text-blue-700 bg-white rounded-lg p-3 shadow-sm"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-5 w-5 ml-3 text-blue-600"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                            <polyline points="22,4 12,14.01 9,11.01"></polyline>
                          </svg>
                          <span class="font-medium"
                            >تحليل نقاط القوة والضعف</span
                          >
                        </div>

                        <div
                          class="flex items-center text-blue-700 bg-white rounded-lg p-3 shadow-sm"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-5 w-5 ml-3 text-blue-600"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <path d="M14.828 14.828a4 4 0 0 1-5.656 0"></path>
                            <path d="M9 9a3 3 0 1 1 6 0c0 2-3 3-3 3"></path>
                            <line x1="12" y1="17" x2="12.01" y2="17"></line>
                          </svg>
                          <span class="font-medium">توصيات ذكية للتحسين</span>
                        </div>
                      </div>
                    </div>

                    <!-- Quick Access Features -->
                    <div
                      class="bg-gradient-to-br from-gray-50 to-white rounded-2xl p-8 border border-gray-200 shadow-lg"
                    >
                      <h4
                        class="font-bold text-gray-800 mb-6 flex items-center text-lg"
                      >
                        <div
                          class="bg-gray-600 rounded-lg w-10 h-10 flex items-center justify-center ml-3"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-5 w-5 text-white"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <circle cx="12" cy="12" r="3"></circle>
                            <path
                              d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"
                            ></path>
                          </svg>
                        </div>
                        ميزات متقدمة
                      </h4>

                      <div class="grid grid-cols-1 gap-3">
                        <div
                          class="flex items-center text-gray-700 bg-white rounded-lg p-3 shadow-sm"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-5 w-5 ml-3 text-gray-600"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <path
                              d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"
                            ></path>
                          </svg>
                          <span class="font-medium">متابعة أداء الطالب</span>
                        </div>

                        <div
                          class="flex items-center text-gray-700 bg-white rounded-lg p-3 shadow-sm"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-5 w-5 ml-3 text-gray-600"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <path
                              d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"
                            ></path>
                            <polyline points="7,10 12,15 17,10"></polyline>
                            <line x1="12" y1="15" x2="12" y2="3"></line>
                          </svg>
                          <span class="font-medium">تحميل التقارير PDF</span>
                        </div>

                        <div
                          class="flex items-center text-gray-700 bg-white rounded-lg p-3 shadow-sm"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-5 w-5 ml-3 text-gray-600"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <path
                              d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"
                            ></path>
                            <polyline points="22,6 12,13 2,6"></polyline>
                          </svg>
                          <span class="font-medium">إشعارات فورية</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Student Progress Content -->
            <div id="studentProgressContent" class="hidden">
              <!-- Content will be dynamically loaded here -->
            </div>

            <!-- Enhanced Teacher Management Panel -->
            <div id="teacherManagementPanel" class="hidden">
              <div class="border-t-4 border-blue-500 pt-16 mt-16">
                <!-- Teacher Panel Header -->
                <div
                  class="bg-gradient-to-br from-gray-50 to-white rounded-2xl p-10 mb-10 border border-gray-200 shadow-xl relative overflow-hidden"
                >
                  <div
                    class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-blue-100 to-transparent rounded-full opacity-50"
                  ></div>

                  <div class="text-center mb-10 relative">
                    <div
                      class="bg-gradient-to-br from-blue-600 to-blue-800 rounded-3xl w-20 h-20 flex items-center justify-center mx-auto mb-6 shadow-xl transform hover:scale-110 transition-all duration-300"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-10 w-10 text-white"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path
                          d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"
                        ></path>
                        <circle cx="12" cy="7" r="4"></circle>
                        <path
                          d="M16 3.13a4 4 0 0 1 0 7.75M22 21v-2a4 4 0 0 0-3-3.87"
                        ></path>
                      </svg>
                    </div>
                    <h3 class="text-3xl font-black text-blue-800 mb-3">
                      لوحة إدارة المعلم المتقدمة
                    </h3>
                    <p class="text-gray-600 text-lg font-medium">
                      أدوات ذكية وشاملة لمتابعة وتقييم أداء الطلاب بطريقة
                      احترافية
                    </p>
                  </div>

                  <!-- Enhanced Selection Panel -->
                  <div
                    class="bg-white rounded-2xl p-8 border border-gray-200 shadow-lg"
                  >
                    <div
                      class="grid grid-cols-1 lg:grid-cols-4 gap-6 items-end"
                    >
                      <div class="space-y-2">
                        <label
                          class="block text-sm font-bold text-gray-800 flex items-center"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-4 w-4 ml-2 text-blue-600"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <path
                              d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"
                            ></path>
                            <polyline points="9,22 9,12 15,12 15,22"></polyline>
                          </svg>
                          الصف الدراسي
                        </label>
                        <select
                          id="teacherClassSelect"
                          class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 transition-all duration-300 bg-white font-medium"
                          onchange="loadStudentsByClass()"
                        >
                          <option value="">اختر الصف الدراسي</option>
                          <option value="class5A">الخامس الابتدائي - أ</option>
                          <option value="class6D">السادس الابتدائي - د</option>
                          <option value="class6H">السادس الابتدائي - هـ</option>
                        </select>
                      </div>

                      <div class="space-y-2">
                        <label
                          class="block text-sm font-bold text-gray-800 flex items-center"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-4 w-4 ml-2 text-blue-600"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <path
                              d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"
                            ></path>
                            <circle cx="12" cy="7" r="4"></circle>
                          </svg>
                          اسم الطالب
                        </label>
                        <select
                          id="teacherStudentSelect"
                          class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 transition-all duration-300 bg-white font-medium disabled:bg-gray-100 disabled:cursor-not-allowed"
                          disabled
                        >
                          <option value="">اختر الطالب</option>
                        </select>
                      </div>

                      <div class="space-y-2">
                        <label
                          class="block text-sm font-bold text-gray-800 flex items-center"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-4 w-4 ml-2 text-blue-600"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <rect
                              x="3"
                              y="4"
                              width="18"
                              height="18"
                              rx="2"
                              ry="2"
                            ></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                          </svg>
                          الأسبوع الدراسي
                        </label>
                        <select
                          id="weekSelect"
                          class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 transition-all duration-300 bg-white font-medium"
                        >
                          <option value="week1">الأسبوع الأول</option>
                          <option value="week2">الأسبوع الثاني</option>
                          <option value="week3">الأسبوع الثالث</option>
                          <option value="week4">الأسبوع الرابع</option>
                        </select>
                      </div>

                      <button
                        onclick="loadStudentForAdvancedEditing()"
                        class="bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-8 py-3 rounded-xl font-bold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center justify-center space-x-2"
                      >
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          class="h-5 w-5 ml-2"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                        >
                          <path
                            d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"
                          ></path>
                          <polyline points="17,8 12,13 7,8"></polyline>
                          <line x1="12" y1="13" x2="12" y2="3"></line>
                        </svg>
                        تحميل البيانات
                      </button>
                    </div>
                  </div>
                </div>

                <!-- Enhanced Quick Tests Section -->
                <div
                  class="bg-white rounded-2xl p-10 mb-10 border border-gray-200 shadow-xl"
                >
                  <div class="flex items-center mb-8">
                    <div
                      class="bg-gradient-to-br from-blue-600 to-blue-800 rounded-2xl w-16 h-16 flex items-center justify-center ml-6 shadow-lg"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-8 w-8 text-white"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path
                          d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                        ></path>
                        <polyline points="14,2 14,8 20,8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                        <line x1="16" y1="17" x2="8" y2="17"></line>
                        <polyline points="10,9 9,9 8,9"></polyline>
                      </svg>
                    </div>
                    <div>
                      <h4 class="text-2xl font-bold text-gray-800 mb-2">
                        إدخال درجات الاختبارات
                      </h4>
                      <p class="text-gray-600 text-lg">
                        إدخال سريع ومنظم لدرجات جميع الطلاب في الاختبارات
                        المختلفة
                      </p>
                    </div>
                  </div>

                  <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                    <div class="space-y-2">
                      <label
                        class="block text-sm font-bold text-gray-800 flex items-center"
                      >
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          class="h-4 w-4 ml-2 text-blue-600"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                        >
                          <path
                            d="M9 11H5a2 2 0 0 0-2 2v3c0 1.1.9 2 2 2h4l2-2h9a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H9"
                          ></path>
                          <circle cx="9" cy="9" r="2"></circle>
                        </svg>
                        نوع الاختبار
                      </label>
                      <select
                        id="quickTestType"
                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 transition-all duration-300 bg-white font-medium"
                      >
                        <option value="monthly">اختبار شهري</option>
                        <option value="quiz">تدريب وتمارين</option>
                        <option value="midterm">اختبار نصف فصلي</option>
                        <option value="final">اختبار نهائي</option>
                        <option value="oral">اختبار شفهي</option>
                      </select>
                    </div>

                    <div class="space-y-2">
                      <label
                        class="block text-sm font-bold text-gray-800 flex items-center"
                      >
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          class="h-4 w-4 ml-2 text-blue-600"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                        >
                          <path
                            d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"
                          ></path>
                          <path
                            d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"
                          ></path>
                        </svg>
                        عنوان الاختبار
                      </label>
                      <input
                        type="text"
                        id="quickTestName"
                        placeholder="مثال: اختبار الوحدة الأولى - اللغة العربية"
                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 transition-all duration-300 bg-white font-medium"
                      />
                    </div>
                  </div>

                  <div class="text-center">
                    <button
                      onclick="showQuickTestsEntry()"
                      class="bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-10 py-4 rounded-xl font-bold text-lg transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center justify-center mx-auto space-x-3"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-6 w-6 ml-3"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path
                          d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"
                        ></path>
                        <circle cx="9" cy="7" r="4"></circle>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                      </svg>
                      <span>إدخال درجات جميع الطلاب</span>
                    </button>
                  </div>
                </div>

                <!-- Enhanced Quick Tests Entry Form -->
                <div
                  id="quickTestsForm"
                  class="bg-white rounded-2xl p-10 mb-10 border border-gray-200 shadow-xl hidden"
                >
                  <div class="flex items-center mb-8">
                    <div
                      class="bg-gradient-to-br from-blue-600 to-blue-800 rounded-2xl w-14 h-14 flex items-center justify-center ml-4"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-7 w-7 text-white"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path
                          d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"
                        ></path>
                        <path
                          d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"
                        ></path>
                      </svg>
                    </div>
                    <h4 class="text-2xl font-bold text-gray-800">
                      إدخال درجات الاختبار لجميع الطلاب
                    </h4>
                  </div>

                  <div id="studentsTestsList" class="space-y-4">
                    <!-- Students list will be dynamically loaded here -->
                  </div>

                  <div class="flex justify-center space-x-6 mt-10">
                    <button
                      onclick="saveAllTestScores()"
                      class="bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-10 py-4 rounded-xl font-bold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-5 w-5 ml-2"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <polyline points="20,6 9,17 4,12"></polyline>
                      </svg>
                      حفظ جميع الدرجات
                    </button>

                    <button
                      onclick="hideQuickTestsEntry()"
                      class="bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white px-8 py-4 rounded-xl font-bold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-5 w-5 ml-2"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                      </svg>
                      إلغاء العملية
                    </button>
                  </div>
                </div>

                <!-- Enhanced Daily Tracking Form -->
                <div
                  id="advancedTrackingForm"
                  class="bg-white rounded-2xl p-10 border border-gray-200 shadow-xl hidden"
                >
                  <div class="text-center mb-12">
                    <div
                      class="bg-gradient-to-br from-blue-600 to-blue-800 rounded-3xl w-24 h-24 flex items-center justify-center mx-auto mb-6 shadow-xl"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-12 w-12 text-white"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path
                          d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
                        ></path>
                      </svg>
                    </div>
                    <h4 class="text-3xl font-black text-blue-800 mb-4">
                      تسجيل المتابعة اليومية الذكية
                    </h4>
                    <p class="text-gray-600 text-lg">
                      نظام متقدم لتسجيل ومتابعة الأداء اليومي للطلاب بطريقة
                      شاملة ودقيقة
                    </p>
                  </div>

                  <!-- Enhanced Days of the Week -->
                  <div class="grid grid-cols-2 lg:grid-cols-5 gap-6 mb-12">
                    <button
                      type="button"
                      onclick="selectDay('sunday')"
                      class="day-selector group p-6 rounded-2xl font-bold transition-all duration-300 bg-gradient-to-br from-gray-50 to-gray-100 hover:from-blue-50 hover:to-blue-100 border-2 border-gray-200 hover:border-blue-300 shadow-lg hover:shadow-xl transform hover:scale-105"
                      data-day="sunday"
                    >
                      <div class="text-center">
                        <div
                          class="bg-white rounded-xl w-12 h-12 flex items-center justify-center mx-auto mb-3 shadow-sm group-hover:shadow-md transition-all duration-300"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-6 w-6 text-orange-500"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <circle cx="12" cy="12" r="5"></circle>
                            <line x1="12" y1="1" x2="12" y2="3"></line>
                            <line x1="12" y1="21" x2="12" y2="23"></line>
                            <line
                              x1="4.22"
                              y1="4.22"
                              x2="5.64"
                              y2="5.64"
                            ></line>
                            <line
                              x1="18.36"
                              y1="18.36"
                              x2="19.78"
                              y2="19.78"
                            ></line>
                            <line x1="1" y1="12" x2="3" y2="12"></line>
                            <line x1="21" y1="12" x2="23" y2="12"></line>
                            <line
                              x1="4.22"
                              y1="19.78"
                              x2="5.64"
                              y2="18.36"
                            ></line>
                            <line
                              x1="18.36"
                              y1="5.64"
                              x2="19.78"
                              y2="4.22"
                            ></line>
                          </svg>
                        </div>
                        <div
                          class="font-bold text-gray-800 group-hover:text-blue-700 transition-colors duration-300"
                        >
                          الأحد
                        </div>
                        <div
                          class="text-xs text-gray-500 mt-2 group-hover:text-blue-600"
                          id="sunday-hijri"
                        >
                          التاريخ الهجري
                        </div>
                      </div>
                    </button>

                    <button
                      type="button"
                      onclick="selectDay('monday')"
                      class="day-selector group p-6 rounded-2xl font-bold transition-all duration-300 bg-gradient-to-br from-gray-50 to-gray-100 hover:from-blue-50 hover:to-blue-100 border-2 border-gray-200 hover:border-blue-300 shadow-lg hover:shadow-xl transform hover:scale-105"
                      data-day="monday"
                    >
                      <div class="text-center">
                        <div
                          class="bg-white rounded-xl w-12 h-12 flex items-center justify-center mx-auto mb-3 shadow-sm group-hover:shadow-md transition-all duration-300"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-6 w-6 text-blue-500"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <path
                              d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"
                            ></path>
                          </svg>
                        </div>
                        <div
                          class="font-bold text-gray-800 group-hover:text-blue-700 transition-colors duration-300"
                        >
                          الاثنين
                        </div>
                        <div
                          class="text-xs text-gray-500 mt-2 group-hover:text-blue-600"
                          id="monday-hijri"
                        >
                          التاريخ الهجري
                        </div>
                      </div>
                    </button>

                    <button
                      type="button"
                      onclick="selectDay('tuesday')"
                      class="day-selector group p-6 rounded-2xl font-bold transition-all duration-300 bg-gradient-to-br from-gray-50 to-gray-100 hover:from-blue-50 hover:to-blue-100 border-2 border-gray-200 hover:border-blue-300 shadow-lg hover:shadow-xl transform hover:scale-105"
                      data-day="tuesday"
                    >
                      <div class="text-center">
                        <div
                          class="bg-white rounded-xl w-12 h-12 flex items-center justify-center mx-auto mb-3 shadow-sm group-hover:shadow-md transition-all duration-300"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-6 w-6 text-green-500"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <polygon
                              points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26 12,2"
                            ></polygon>
                          </svg>
                        </div>
                        <div
                          class="font-bold text-gray-800 group-hover:text-blue-700 transition-colors duration-300"
                        >
                          الثلاثاء
                        </div>
                        <div
                          class="text-xs text-gray-500 mt-2 group-hover:text-blue-600"
                          id="tuesday-hijri"
                        >
                          التاريخ الهجري
                        </div>
                      </div>
                    </button>

                    <button
                      type="button"
                      onclick="selectDay('wednesday')"
                      class="day-selector group p-6 rounded-2xl font-bold transition-all duration-300 bg-gradient-to-br from-gray-50 to-gray-100 hover:from-blue-50 hover:to-blue-100 border-2 border-gray-200 hover:border-blue-300 shadow-lg hover:shadow-xl transform hover:scale-105"
                      data-day="wednesday"
                    >
                      <div class="text-center">
                        <div
                          class="bg-white rounded-xl w-12 h-12 flex items-center justify-center mx-auto mb-3 shadow-sm group-hover:shadow-md transition-all duration-300"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-6 w-6 text-purple-500"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
                          </svg>
                        </div>
                        <div
                          class="font-bold text-gray-800 group-hover:text-blue-700 transition-colors duration-300"
                        >
                          الأربعاء
                        </div>
                        <div
                          class="text-xs text-gray-500 mt-2 group-hover:text-blue-600"
                          id="wednesday-hijri"
                        >
                          التاريخ الهجري
                        </div>
                      </div>
                    </button>

                    <button
                      type="button"
                      onclick="selectDay('thursday')"
                      class="day-selector group p-6 rounded-2xl font-bold transition-all duration-300 bg-gradient-to-br from-gray-50 to-gray-100 hover:from-blue-50 hover:to-blue-100 border-2 border-gray-200 hover:border-blue-300 shadow-lg hover:shadow-xl transform hover:scale-105"
                      data-day="thursday"
                    >
                      <div class="text-center">
                        <div
                          class="bg-white rounded-xl w-12 h-12 flex items-center justify-center mx-auto mb-3 shadow-sm group-hover:shadow-md transition-all duration-300"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-6 w-6 text-red-500"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <path
                              d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
                            ></path>
                          </svg>
                        </div>
                        <div
                          class="font-bold text-gray-800 group-hover:text-blue-700 transition-colors duration-300"
                        >
                          الخميس
                        </div>
                        <div
                          class="text-xs text-gray-500 mt-2 group-hover:text-blue-600"
                          id="thursday-hijri"
                        >
                          التاريخ الهجري
                        </div>
                      </div>
                    </button>
                  </div>

                  <!-- Enhanced Day Details Form -->
                  <div id="dayDetailsForm" class="hidden">
                    <div
                      class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-8 mb-12"
                    >
                      <!-- Enhanced Attendance Card -->
                      <div
                        class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-8 border-2 border-blue-200 shadow-lg hover:shadow-xl transition-all duration-300"
                      >
                        <div class="flex items-center mb-6">
                          <div
                            class="bg-blue-600 rounded-xl w-12 h-12 flex items-center justify-center ml-4"
                          >
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              class="h-6 w-6 text-white"
                              viewBox="0 0 24 24"
                              fill="none"
                              stroke="currentColor"
                              stroke-width="2"
                            >
                              <path
                                d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"
                              ></path>
                              <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                          </div>
                          <h5 class="font-bold text-blue-800 text-lg">
                            الحضور والغياب
                          </h5>
                        </div>
                        <select
                          id="attendanceSelect"
                          class="w-full px-4 py-3 border-2 border-blue-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 bg-white font-medium transition-all duration-300"
                        >
                          <option value="">حدد حالة الحضور</option>
                          <option value="present">حاضر بالوقت المحدد</option>
                          <option value="absent">غائب بعذر</option>
                          <option value="absent_no_excuse">
                            غائب بدون عذر
                          </option>
                          <option value="late">متأخر عن الحصة</option>
                        </select>
                      </div>

                      <!-- Enhanced Participation Card -->
                      <div
                        class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-8 border-2 border-blue-200 shadow-lg hover:shadow-xl transition-all duration-300"
                      >
                        <div class="flex items-center mb-6">
                          <div
                            class="bg-blue-600 rounded-xl w-12 h-12 flex items-center justify-center ml-4"
                          >
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              class="h-6 w-6 text-white"
                              viewBox="0 0 24 24"
                              fill="none"
                              stroke="currentColor"
                              stroke-width="2"
                            >
                              <path
                                d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"
                              ></path>
                            </svg>
                          </div>
                          <h5 class="font-bold text-blue-800 text-lg">
                            المشاركة الصفية
                          </h5>
                        </div>
                        <select
                          id="participationSelect"
                          class="w-full px-4 py-3 border-2 border-blue-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 bg-white font-medium transition-all duration-300 mb-4"
                        >
                          <option value="">حدد مستوى المشاركة</option>
                          <option value="excellent">ممتاز ومتفاعل</option>
                          <option value="good">جيد ومشارك</option>
                          <option value="fair">متوسط المشاركة</option>
                          <option value="weak">ضعيف المشاركة</option>
                          <option value="none">لم يشارك نهائياً</option>
                        </select>
                        <input
                          type="number"
                          id="participationScore"
                          placeholder="الدرجة من 10"
                          min="0"
                          max="10"
                          class="w-full px-4 py-3 border-2 border-blue-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 bg-white font-medium text-center"
                        />
                      </div>

                      <!-- Enhanced Homework Card -->
                      <div
                        class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-8 border-2 border-blue-200 shadow-lg hover:shadow-xl transition-all duration-300"
                      >
                        <div class="flex items-center mb-6">
                          <div
                            class="bg-blue-600 rounded-xl w-12 h-12 flex items-center justify-center ml-4"
                          >
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              class="h-6 w-6 text-white"
                              viewBox="0 0 24 24"
                              fill="none"
                              stroke="currentColor"
                              stroke-width="2"
                            >
                              <path
                                d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                              ></path>
                              <polyline points="14,2 14,8 20,8"></polyline>
                              <line x1="16" y1="13" x2="8" y2="13"></line>
                              <line x1="16" y1="17" x2="8" y2="17"></line>
                              <polyline points="10,9 9,9 8,9"></polyline>
                            </svg>
                          </div>
                          <h5 class="font-bold text-blue-800 text-lg">
                            الواجبات المنزلية
                          </h5>
                        </div>
                        <input
                          type="text"
                          id="homeworkName"
                          placeholder="اسم أو موضوع الواجب"
                          class="w-full px-4 py-3 border-2 border-blue-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 bg-white font-medium transition-all duration-300 mb-3"
                        />
                        <select
                          id="homeworkStatus"
                          class="w-full px-4 py-3 border-2 border-blue-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 bg-white font-medium transition-all duration-300 mb-3"
                        >
                          <option value="">حالة الواجب</option>
                          <option value="completed">مكتمل ومنظم</option>
                          <option value="partial">جزئي أو ناقص</option>
                          <option value="missing">مفقود تماماً</option>
                          <option value="late">متأخر عن الموعد</option>
                          <option value="excellent">ممتاز ومتقن</option>
                        </select>
                        <div class="grid grid-cols-2 gap-3">
                          <input
                            type="number"
                            id="homeworkScore"
                            placeholder="الدرجة المحققة"
                            class="w-full px-4 py-3 border-2 border-blue-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 bg-white font-medium text-center"
                          />
                          <input
                            type="number"
                            id="homeworkTotal"
                            placeholder="الدرجة الكاملة"
                            class="w-full px-4 py-3 border-2 border-blue-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 bg-white font-medium text-center"
                          />
                        </div>
                      </div>

                      <!-- Enhanced Behavior Card -->
                      <div
                        class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-8 border-2 border-blue-200 shadow-lg hover:shadow-xl transition-all duration-300"
                      >
                        <div class="flex items-center mb-6">
                          <div
                            class="bg-blue-600 rounded-xl w-12 h-12 flex items-center justify-center ml-4"
                          >
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              class="h-6 w-6 text-white"
                              viewBox="0 0 24 24"
                              fill="none"
                              stroke="currentColor"
                              stroke-width="2"
                            >
                              <circle cx="12" cy="12" r="3"></circle>
                              <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"></path>
                            </svg>
                          </div>
                          <h5 class="font-bold text-blue-800 text-lg">
                            السلوك والأخلاق
                          </h5>
                        </div>
                        <select
                          id="behaviorSelect"
                          class="w-full px-4 py-3 border-2 border-blue-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 bg-white font-medium transition-all duration-300 mb-4"
                        >
                          <option value="">حدد تقييم السلوك</option>
                          <option value="excellent">متعاون ومنضبط</option>
                          <option value="good">هادئ ومؤدب</option>
                          <option value="fair">خلوق ومحترم</option>
                          <option value="proactive">مبادر ونشيط</option>
                          <option value="needs_improvement">يحتاج تحسين</option>
                        </select>
                        <input
                          type="number"
                          id="behaviorScore"
                          placeholder="تقييم السلوك من 10"
                          min="0"
                          max="10"
                          class="w-full px-4 py-3 border-2 border-blue-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 bg-white font-medium text-center"
                        />
                      </div>
                    </div>

                    <!-- Enhanced Additional Activities Section -->
                    <div class="grid grid-cols-1 xl:grid-cols-2 gap-10 mb-12">
                      <!-- Enhanced Monthly Tests Card -->
                      <div
                        class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-8 border-2 border-blue-200 shadow-lg hover:shadow-xl transition-all duration-300"
                      >
                        <div class="flex items-center mb-6">
                          <div
                            class="bg-blue-600 rounded-xl w-14 h-14 flex items-center justify-center ml-4"
                          >
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              class="h-7 w-7 text-white"
                              viewBox="0 0 24 24"
                              fill="none"
                              stroke="currentColor"
                              stroke-width="2"
                            >
                              <path
                                d="M9 11H5a2 2 0 0 0-2 2v3c0 1.1.9 2 2 2h4l2-2h9a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H9"
                              ></path>
                              <circle cx="9" cy="9" r="2"></circle>
                            </svg>
                          </div>
                          <h5 class="font-bold text-blue-800 text-xl">
                            الاختبارات والتقييمات
                          </h5>
                        </div>
                        <div class="space-y-4">
                          <input
                            type="text"
                            id="testName"
                            placeholder="اسم الاختبار أو التقييم"
                            class="w-full px-4 py-3 border-2 border-blue-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 bg-white font-medium transition-all duration-300"
                          />
                          <div class="grid grid-cols-2 gap-4">
                            <input
                              type="number"
                              id="testScore"
                              placeholder="الدرجة المحققة"
                              class="w-full px-4 py-3 border-2 border-blue-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 bg-white font-medium text-center"
                            />
                            <input
                              type="number"
                              id="testTotal"
                              placeholder="إجمالي الدرجات"
                              class="w-full px-4 py-3 border-2 border-blue-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 bg-white font-medium text-center"
                            />
                          </div>
                          <select
                            id="testType"
                            class="w-full px-4 py-3 border-2 border-blue-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 bg-white font-medium"
                          >
                            <option value="">اختر نوع التقييم</option>
                            <option value="monthly">اختبار شهري</option>
                            <option value="midterm">نصف فصلي</option>
                            <option value="final">اختبار نهائي</option>
                            <option value="quiz">تدريب سريع</option>
                            <option value="project">اختبار اسبوعي</option>
                          </select>
                        </div>
                      </div>

                      <!-- Enhanced Training Activities Card -->
                      <div
                        class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-8 border-2 border-blue-200 shadow-lg hover:shadow-xl transition-all duration-300"
                      >
                        <div class="flex items-center mb-6">
                          <div
                            class="bg-blue-600 rounded-xl w-14 h-14 flex items-center justify-center ml-4"
                          >
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              class="h-7 w-7 text-white"
                              viewBox="0 0 24 24"
                              fill="none"
                              stroke="currentColor"
                              stroke-width="2"
                            >
                              <path
                                d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
                              ></path>
                            </svg>
                          </div>
                          <h5 class="font-bold text-blue-800 text-xl">
                            الأنشطة والتدريبات
                          </h5>
                        </div>
                        <div class="space-y-4">
                          <input
                            type="text"
                            id="activityName"
                            placeholder="اسم النشاط أو التدريب"
                            class="w-full px-4 py-3 border-2 border-blue-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 bg-white font-medium transition-all duration-300"
                          />
                          <select
                            id="activityStatus"
                            class="w-full px-4 py-3 border-2 border-blue-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 bg-white font-medium"
                          >
                            <option value="">حالة النشاط</option>
                            <option value="completed">مكتمل بإتقان</option>
                            <option value="partial">جزئي أو قيد التنفيذ</option>
                            <option value="not_started">لم يبدأ بعد</option>
                            <option value="excellent">ممتاز ومبدع</option>
                            <option value="needs_help">يحتاج مساعدة</option>
                          </select>
                          <input
                            type="number"
                            id="activityScore"
                            placeholder="تقييم النشاط من 100"
                            min="0"
                            max="100"
                            class="w-full px-4 py-3 border-2 border-blue-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500 bg-white font-medium text-center"
                          />
                        </div>
                      </div>
                    </div>

                    <!-- Enhanced Notes Section -->
                    <div
                      class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-8 mb-10 border-2 border-gray-200 shadow-lg"
                    >
                      <label
                        class="block text-gray-800 mb-6 font-bold text-lg flex items-center"
                      >
                        <div
                          class="bg-gray-600 rounded-xl w-12 h-12 flex items-center justify-center ml-4"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-6 w-6 text-white"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                          >
                            <path
                              d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"
                            ></path>
                            <path
                              d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"
                            ></path>
                          </svg>
                        </div>
                        ملاحظات تفصيلية ومقترحات التطوير
                      </label>
                      <textarea
                        id="detailedNotes"
                        rows="6"
                        placeholder="اكتب ملاحظات مفصلة حول أداء الطالب اليوم، نقاط القوة، المجالات التي تحتاج تحسين، ومقترحات للتطوير..."
                        class="w-full px-6 py-4 border-2 border-gray-300 rounded-2xl focus:outline-none focus:ring-4 focus:ring-gray-200 focus:border-gray-500 transition-all duration-300 bg-white resize-none font-medium leading-relaxed"
                      ></textarea>
                    </div>

                    <!-- Enhanced Save Button -->
                    <div class="text-center">
                      <button
                        onclick="saveDayProgress()"
                        class="bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900 text-white px-16 py-5 rounded-2xl font-black text-xl transition-all duration-300 shadow-2xl hover:shadow-3xl transform hover:scale-105 flex items-center justify-center mx-auto space-x-4"
                      >
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          class="h-7 w-7 ml-4"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                        >
                          <path
                            d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"
                          ></path>
                          <polyline points="17,21 17,13 7,13 7,21"></polyline>
                          <polyline points="7,3 7,8 15,8"></polyline>
                        </svg>
                        <span>حفظ وتسجيل بيانات اليوم</span>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <style>
          /* Enhanced CSS Variables for Blue and White Design */
          :root {
            --blue-50: #eff6ff;
            --blue-100: #dbeafe;
            --blue-200: #bfdbfe;
            --blue-300: #93c5fd;
            --blue-400: #60a5fa;
            --blue-500: #3b82f6;
            --blue-600: #2563eb;
            --blue-700: #1d4ed8;
            --blue-800: #1e40af;
            --blue-900: #1e3a8a;
          }

          /* Enhanced Day Selector States */
          .day-selector.active {
            background: linear-gradient(
              135deg,
              var(--blue-600),
              var(--blue-800)
            );
            color: white;
            border-color: var(--blue-700);
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 20px 40px rgba(37, 99, 235, 0.4);
          }

          .day-selector.active .text-gray-500 {
            color: rgba(255, 255, 255, 0.9) !important;
          }

          .day-selector.active svg {
            color: white !important;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
          }

          /* Advanced Card Hover Effects */
          .card-hover {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
          }

          .card-hover:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
          }

          /* Professional Input Styling */
          .enhanced-input {
            background: linear-gradient(145deg, #ffffff, #f8fafc);
            border: 2px solid transparent;
            background-clip: padding-box;
            position: relative;
          }

          .enhanced-input::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: inherit;
            padding: 2px;
            background: linear-gradient(145deg, #e2e8f0, #cbd5e1);
            -webkit-mask: linear-gradient(#fff 0 0) content-box,
              linear-gradient(#fff 0 0);
            -webkit-mask-composite: exclude;
            mask: linear-gradient(#fff 0 0) content-box,
              linear-gradient(#fff 0 0);
            mask-composite: exclude;
            z-index: -1;
          }

          /* Advanced Animation Classes */
          .fade-in-up {
            animation: fadeInUp 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
          }

          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translate3d(0, 40px, 0);
            }
            to {
              opacity: 1;
              transform: translate3d(0, 0, 0);
            }
          }

          .bounce-gentle {
            animation: bounceGentle 2s ease-in-out infinite;
          }

          @keyframes bounceGentle {
            0%,
            20%,
            50%,
            80%,
            100% {
              transform: translateY(0);
            }
            40% {
              transform: translateY(-10px);
            }
            60% {
              transform: translateY(-5px);
            }
          }

          .pulse-glow {
            animation: pulseGlow 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
          }

          @keyframes pulseGlow {
            0%,
            100% {
              opacity: 1;
              box-shadow: 0 0 20px rgba(37, 99, 235, 0.4);
            }
            50% {
              opacity: 0.8;
              box-shadow: 0 0 30px rgba(37, 99, 235, 0.7);
            }
          }

          /* Modern Scrollbar */
          .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
          }

          .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 4px;
          }

          .custom-scrollbar::-webkit-scrollbar-thumb {
            background: linear-gradient(
              135deg,
              var(--blue-500),
              var(--blue-600)
            );
            border-radius: 4px;
          }

          .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(
              135deg,
              var(--blue-600),
              var(--blue-700)
            );
          }

          /* Enhanced Loading States */
          .loading-overlay {
            position: relative;
          }

          .loading-overlay::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: inherit;
            z-index: 10;
          }

          .loading-overlay::before {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            width: 32px;
            height: 32px;
            margin: -16px 0 0 -16px;
            border: 3px solid #f3f4f6;
            border-top: 3px solid var(--blue-600);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            z-index: 11;
          }

          @keyframes spin {
            0% {
              transform: rotate(0deg);
            }
            100% {
              transform: rotate(360deg);
            }
          }

          /* Form Validation States */
          .input-success {
            border-color: var(--blue-500);
            background: linear-gradient(145deg, var(--blue-50), #ffffff);
          }

          .input-error {
            border-color: #ef4444;
            background: linear-gradient(145deg, #fef2f2, #ffffff);
          }

          .input-warning {
            border-color: #f59e0b;
            background: linear-gradient(145deg, #fffbeb, #ffffff);
          }

          /* Advanced Responsive Design */
          @media (max-width: 1024px) {
            .xl\\:grid-cols-4 {
              grid-template-columns: repeat(2, minmax(0, 1fr));
            }

            .xl\\:grid-cols-3 {
              grid-template-columns: repeat(2, minmax(0, 1fr));
            }
          }

          @media (max-width: 768px) {
            .lg\\:grid-cols-5 {
              grid-template-columns: repeat(2, minmax(0, 1fr));
            }

            .lg\\:grid-cols-4 {
              grid-template-columns: repeat(1, minmax(0, 1fr));
            }

            .lg\\:grid-cols-2 {
              grid-template-columns: repeat(1, minmax(0, 1fr));
            }

            .text-4xl {
              font-size: 2.25rem;
              line-height: 2.5rem;
            }

            .text-3xl {
              font-size: 1.875rem;
              line-height: 2.25rem;
            }

            .text-2xl {
              font-size: 1.5rem;
              line-height: 2rem;
            }
          }

          @media (max-width: 640px) {
            .md\\:grid-cols-3 {
              grid-template-columns: repeat(1, minmax(0, 1fr));
            }

            .p-10 {
              padding: 1.5rem;
            }

            .p-8 {
              padding: 1.25rem;
            }

            .gap-10 {
              gap: 1.5rem;
            }

            .gap-8 {
              gap: 1.25rem;
            }
          }

          /* Print Optimization */
          @media print {
            .no-print,
            button,
            .shadow-xl,
            .shadow-2xl {
              display: none !important;
            }

            .bg-gradient-to-br,
            .bg-gradient-to-r {
              background: white !important;
              color: black !important;
            }

            .border-2 {
              border-width: 1px !important;
              border-color: #d1d5db !important;
            }

            .rounded-2xl {
              border-radius: 8px !important;
            }

            .text-white {
              color: black !important;
            }
          }

          /* High Contrast Mode Support */
          @media (prefers-contrast: high) {
            .border-gray-200,
            .border-gray-300 {
              border-color: #000000;
              border-width: 2px;
            }

            .text-gray-600,
            .text-gray-700 {
              color: #000000;
            }

            .bg-gray-50,
            .bg-gray-100 {
              background-color: #ffffff;
              border: 2px solid #000000;
            }
          }

          /* Reduced Motion Support */
          @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
              animation-duration: 0.01ms !important;
              animation-iteration-count: 1 !important;
              transition-duration: 0.01ms !important;
              scroll-behavior: auto !important;
            }

            .transform,
            .hover\\:scale-105:hover,
            .hover\\:scale-\\[1\\.02\\]:hover {
              transform: none !important;
            }
          }

          /* Focus Accessibility */
          *:focus {
            outline: 3px solid var(--blue-500);
            outline-offset: 2px;
          }
        </style>

        <!-- Enhanced Exams Section -->
        <section id="exams" class="section hidden">
          <div class="bg-white rounded-2xl shadow-2xl p-8 mb-8">
            <div class="text-center mb-8">
              <h2 class="text-4xl font-bold gradient-text mb-4">
                الاختبارات التفاعلية الذكية
                <span class="math-symbol">∑</span>
                <span class="math-symbol">√</span>
              </h2>
              <p class="text-xl text-neutral-600 leading-relaxed">
                اختبر مهاراتك في الرياضيات من خلال مجموعة متنوعة من الاختبارات
                التفاعلية المصممة خصيصاً لتطوير قدراتك
              </p>
            </div>

            <div
              id="examsList"
              class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"
            >
              <!-- Exams will be loaded here -->
            </div>
          </div>

          <!-- Exam History -->
          <div class="bg-white rounded-2xl shadow-2xl p-8">
            <h3 class="text-2xl font-bold gradient-text mb-6 flex items-center">
              سجل الاختبارات السابقة
            </h3>
            <div id="examHistory" class="space-y-4">
              <p class="text-neutral-500 text-center py-8 text-lg">
                لم تقم بإجراء أي اختبار بعد. ابدأ رحلتك التعليمية الآن
              </p>
            </div>
          </div>
        </section>

        <!-- Worksheets Section -->
        <section id="worksheets" class="section hidden">
          <div class="bg-white rounded-2xl shadow-2xl p-8 mb-8">
            <div class="text-center mb-8">
              <h2 class="text-4xl font-bold gradient-text mb-4">
                أوراق العمل التعليمية
              </h2>
              <p class="text-xl text-neutral-600 leading-relaxed">
                مجموعة متنوعة من أوراق العمل لتطبيق وتعزيز المفاهيم الرياضية
              </p>
            </div>

            <!-- Teacher Upload Section (Admin Only) -->
            <div id="teacherUploadSection" class="hidden mb-8">
              <div class="bg-blue-50 rounded-2xl p-8 mb-8">
                <div class="icon-text-container mb-6">
                  <div class="bg-blue-100 rounded-full p-3">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-8 w-8 text-blue-600"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                      />
                    </svg>
                  </div>
                  <h3 class="text-2xl font-bold text-blue-800">
                    رفع ورقة عمل جديدة
                  </h3>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                  <input
                    type="text"
                    id="worksheetTitle"
                    placeholder="عنوان ورقة العمل"
                    class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300"
                  />
                  <select
                    id="worksheetClass"
                    class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300"
                  >
                    <option value="">اختر الصف</option>
                    <option value="class5A">الخامس أ</option>
                    <option value="class6D">السادس د</option>
                    <option value="class6H">السادس هـ</option>
                  </select>
                </div>

                <div class="pdf-upload-area" id="worksheetUploadArea">
                  <input
                    type="file"
                    id="worksheetFile"
                    accept=".pdf"
                    class="hidden"
                    onchange="handleWorksheetUpload(this)"
                  />
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-16 w-16 text-gray-400 mx-auto mb-4"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                    />
                  </svg>
                  <p class="text-gray-600 text-lg font-medium">
                    اضغط لاختيار ملف PDF أو اسحب الملف هنا
                  </p>
                  <p class="text-gray-500 text-sm mt-2">
                    يُفضل ملفات PDF حتى 10MB
                  </p>
                </div>

                <div class="text-center mt-6">
                  <button
                    onclick="uploadWorksheet()"
                    class="success-gradient hover:shadow-xl text-white px-8 py-4 rounded-xl font-bold transition-all duration-300 transform hover:scale-105 text-lg"
                  >
                    رفع ورقة العمل
                  </button>
                </div>
              </div>
            </div>

            <!-- Worksheets List -->
            <div id="worksheetsList" class="space-y-6">
              <!-- Worksheets will be loaded here -->
            </div>
          </div>
        </section>

        <!-- Weekly Plans Section -->
        <section id="weeklyPlans" class="section hidden">
          <div class="bg-white rounded-2xl shadow-2xl p-8 mb-8">
            <div class="text-center mb-8">
              <h2 class="text-4xl font-bold gradient-text mb-4">
                الخطط الأسبوعية
              </h2>
              <p class="text-xl text-neutral-600 leading-relaxed">
                خطط تعليمية أسبوعية شاملة لمتابعة التقدم في المنهج
              </p>
            </div>

            <!-- Teacher Upload Section (Admin Only) -->
            <div id="teacherWeeklyPlanSection" class="hidden mb-8">
              <div class="bg-green-50 rounded-2xl p-8 mb-8">
                <div class="icon-text-container mb-6">
                  <div class="bg-green-100 rounded-full p-3">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-8 w-8 text-green-600"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
                      />
                    </svg>
                  </div>
                  <h3 class="text-2xl font-bold text-green-800">
                    رفع خطة أسبوعية جديدة
                  </h3>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                  <input
                    type="text"
                    id="planTitle"
                    placeholder="عنوان الخطة"
                    class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300"
                  />
                  <select
                    id="planWeek"
                    class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300"
                  >
                    <option value="">اختر الأسبوع</option>
                    <option value="week1">الأسبوع الأول</option>
                    <option value="week2">الأسبوع الثاني</option>
                    <option value="week3">الأسبوع الثالث</option>
                    <option value="week4">الأسبوع الرابع</option>
                    <option value="week5">الأسبوع الخامس</option>
                    <option value="week6">الأسبوع السادس</option>
                    <option value="week7">الأسبوع السابع</option>
                    <option value="week8">الأسبوع الثامن</option>
                  </select>
                  <select
                    id="planClass"
                    class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300"
                  >
                    <option value="">اختر الصف</option>
                    <option value="class5A">الخامس أ</option>
                    <option value="class6D">السادس د</option>
                    <option value="class6H">السادس هـ</option>
                  </select>
                </div>

                <div class="pdf-upload-area" id="planUploadArea">
                  <input
                    type="file"
                    id="planFile"
                    accept=".pdf"
                    class="hidden"
                    onchange="handlePlanUpload(this)"
                  />
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-16 w-16 text-gray-400 mx-auto mb-4"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
                    />
                  </svg>
                  <p class="text-gray-600 text-lg font-medium">
                    اضغط لاختيار ملف الخطة الأسبوعية (PDF)
                  </p>
                  <p class="text-gray-500 text-sm mt-2">
                    يُفضل ملفات PDF حتى 10MB
                  </p>
                </div>

                <div class="text-center mt-6">
                  <button
                    onclick="uploadWeeklyPlan()"
                    class="success-gradient hover:shadow-xl text-white px-8 py-4 rounded-xl font-bold transition-all duration-300 transform hover:scale-105 text-lg"
                  >
                    رفع الخطة الأسبوعية
                  </button>
                </div>
              </div>
            </div>

            <!-- Weekly Plans List -->
            <div id="weeklyPlansList" class="space-y-6">
              <!-- Weekly plans will be loaded here -->
            </div>
          </div>
        </section>

        <!-- Madrasati Platform Section -->
        <section id="madrasatiPlatform" class="section hidden">
          <div
            class="bg-white rounded-2xl shadow-2xl p-8 mb-8 madrasati-card text-white relative overflow-hidden"
          >
            <div class="flex flex-col md:flex-row items-center relative z-10">
              <div class="md:w-1/2 mb-6 md:mb-0">
                <h2 class="text-4xl font-bold mb-6 animate-bounce-gentle">
                  🌐 منصة مدرستي الرسمية
                </h2>
                <p class="text-xl mb-8 leading-relaxed opacity-90">
                  ادخل إلى منصة مدرستي الرسمية للوصول إلى جميع الموارد التعليمية
                  والواجبات والحصص الافتراضية. منصة متكاملة تجمع كل ما تحتاجه في
                  مكان واحد.
                </p>
                <div class="flex flex-wrap gap-4 mb-8">
                  <a
                    href="https://schools.madrasati.sa"
                    target="_blank"
                    class="bg-white text-green-800 px-8 py-4 rounded-xl font-bold transition-all duration-300 transform hover:scale-110 interactive-button text-lg flex items-center"
                  >
                    🚀 دخول منصة مدرستي
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-6 w-6 mr-3"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"
                      />
                    </svg>
                  </a>
                  <button
                    onclick="showMadrasatiGuide()"
                    class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-bold transition-all duration-300 transform hover:scale-110 interactive-button text-lg"
                  >
                    📚 دليل الاستخدام
                  </button>
                </div>
              </div>
              <div class="md:w-1/2 flex justify-center">
                <div class="relative">
                  <div
                    class="absolute inset-0 rounded-full blur-3xl opacity-30 animate-pulse"
                    style="background: linear-gradient(90deg, #10b981, #047857)"
                  ></div>
                  <div
                    class="relative z-10 bg-white bg-opacity-20 rounded-full p-8"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-40 w-40 text-white animate-float"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                      />
                    </svg>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Quick Links -->
          <div
            class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-8"
          >
            <div class="bg-white rounded-2xl shadow-xl p-8 card-hover">
              <div class="text-center">
                <div
                  class="bg-blue-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6"
                >
                  <span class="text-3xl">👨‍🎓</span>
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-4">
                  دخول الطلاب
                </h3>
                <p class="text-gray-600 mb-6">
                  دخول مباشر للطلاب إلى منصة مدرستي
                </p>

                <a
                  href="https://schools.madrasati.sa"
                  target="_blank"
                  class="block w-full btn-primary py-3 px-4 rounded-lg font-medium transition-all duration-300 transform hover:scale-105 interactive-button text-center"
                >
                  دخول الطلاب
                </a>
              </div>
            </div>

            <div class="bg-white rounded-2xl shadow-xl p-8 card-hover">
              <div class="text-center">
                <div
                  class="bg-green-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6"
                >
                  <span class="text-3xl">👨‍🏫</span>
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-4">
                  دخول المعلمين
                </h3>
                <p class="text-gray-600 mb-6">
                  دخول مباشر للمعلمين إلى منصة مدرستي
                </p>
                <a
                  href="https://schools.madrasati.sa"
                  target="_blank"
                  class="block w-full btn-secondary py-3 px-4 rounded-lg font-medium transition-all duration-300 transform hover:scale-105 interactive-button text-center"
                >
                  دخول المعلمين
                </a>
              </div>
            </div>

            <div class="bg-white rounded-2xl shadow-xl p-8 card-hover">
              <div class="text-center">
                <div
                  class="bg-purple-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6"
                >
                  <span class="text-3xl">👨‍👩‍👧‍👦</span>
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-4">
                  دخول أولياء الأمور
                </h3>
                <p class="text-gray-600 mb-6">
                  متابعة أداء أبنائكم على منصة مدرستي
                </p>
                <a
                  href="https://schools.madrasati.sa"
                  target="_blank"
                  class="block w-full py-3 px-4 rounded-lg font-medium transition-all duration-300 transform hover:scale-105 interactive-button text-center text-white"
                  style="background: linear-gradient(135deg, #7c3aed, #5b21b6)"
                >
                  دخول أولياء الأمور
                </a>
              </div>
            </div>
          </div>

          <!-- Usage Guide -->
          <div
            id="madrasatiGuide"
            class="bg-white rounded-2xl shadow-2xl p-8 hidden"
          >
            <h3 class="text-3xl font-bold gradient-text mb-8 text-center">
              📚 دليل استخدام منصة مدرستي
            </h3>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
              <div class="space-y-6">
                <div class="bg-blue-50 rounded-xl p-6">
                  <h4
                    class="font-bold text-blue-800 mb-4 text-xl flex items-center"
                  >
                    1️⃣ كيفية الدخول
                  </h4>
                  <ul class="text-blue-700 space-y-2">
                    <li class="flex items-center">
                      • اذهب إلى موقع منصة مدرستي 🌐
                    </li>
                    <li class="flex items-center">
                      • أدخل اسم المستخدم وكلمة المرور 🔐
                    </li>
                    <li class="flex items-center">
                      • اختر نوع المستخدم (طالب/معلم/ولي أمر) 👤
                    </li>
                    <li class="flex items-center">
                      • اضغط على دخول للوصول للمنصة ✅
                    </li>
                  </ul>
                </div>

                <div class="bg-green-50 rounded-xl p-6">
                  <h4
                    class="font-bold text-green-800 mb-4 text-xl flex items-center"
                  >
                    2️⃣ الواجبات والأنشطة
                  </h4>
                  <ul class="text-green-700 space-y-2">
                    <li class="flex items-center">
                      • تصفح الواجبات المطلوبة 📝
                    </li>
                    <li class="flex items-center">• حل الأنشطة التفاعلية 🎯</li>
                    <li class="flex items-center">
                      • إرسال الحلول في الوقت المحدد ⏰
                    </li>
                    <li class="flex items-center">
                      • مراجعة التقييمات والملاحظات 📊
                    </li>
                  </ul>
                </div>
              </div>

              <div class="space-y-6">
                <div class="bg-purple-50 rounded-xl p-6">
                  <h4
                    class="font-bold text-purple-800 mb-4 text-xl flex items-center"
                  >
                    3️⃣ الحصص الافتراضية
                  </h4>
                  <ul class="text-purple-700 space-y-2">
                    <li class="flex items-center">
                      • تصفح جدول الحصص اليومي 📅
                    </li>
                    <li class="flex items-center">
                      • دخول الفصل الافتراضي في الوقت 🕐
                    </li>
                    <li class="flex items-center">
                      • التفاعل مع المعلم والزملاء 💬
                    </li>
                    <li class="flex items-center">• مراجعة تسجيلات الحصص 🎥</li>
                  </ul>
                </div>

                <div class="bg-orange-50 rounded-xl p-6">
                  <h4
                    class="font-bold text-orange-800 mb-4 text-xl flex items-center"
                  >
                    4️⃣ المساعدة والدعم
                  </h4>
                  <ul class="text-orange-700 space-y-2">
                    <li class="flex items-center">
                      • راجع دليل المستخدم المفصل 📖
                    </li>
                    <li class="flex items-center">• تواصل مع الدعم الفني 🛠️</li>
                    <li class="flex items-center">
                      • شاهد الفيديوهات التعليمية 🎬
                    </li>
                    <li class="flex items-center">
                      • اطلب المساعدة من المعلم 👨‍🏫
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="text-center mt-8">
              <button
                onclick="hideMadrasatiGuide()"
                class="bg-gray-300 hover:bg-gray-400 text-gray-800 px-8 py-3 rounded-xl font-medium transition-all duration-300"
              >
                إغلاق الدليل
              </button>
            </div>
          </div>
        </section>

        <!-- Enhanced Excellent Students Section -->
        <section id="excellentStudents" class="section hidden">
          <div class="bg-white rounded-3xl shadow-xl p-8 mb-8">
            <div class="text-center mb-12">
              <div
                class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full mb-6"
              >
                <svg
                  class="w-10 h-10 text-white"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
                  />
                </svg>
              </div>
              <h2 class="text-5xl font-bold text-gray-800 mb-4">
                الطلاب المتميزون
              </h2>
              <p
                class="text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed"
              >
                تعرف على نجوم الرياضيات في مدرستنا وكن مصدر إلهام للآخرين
              </p>
            </div>

            <!-- بطاقة الصفوف -->
            <div class="mb-8 w-full">
              <div
                dir="rtl"
                class="bg-white border border-gray-200 rounded-3xl p-8 shadow-xl text-right"
              >
                <!-- عنوان ونص -->
                <div class="mb-6">
                  <h3 class="text-3xl font-bold text-gray-800">اختر الصف :</h3>
                  <p class="text-gray-600 mt-3">
                    اختر الصف الذي ترغب في استعراضه لمشاهدة قائمة طلاب التميز
                    وإنجازاتهم الرائعة.
                  </p>
                </div>

                <!-- القائمة بعد النص -->
                <div>
                  <select
                    dir="rtl"
                    onchange="showClassStudents(this.value)"
                    class="w-full bg-gray-50 border border-gray-300 text-gray-700 py-3 px-5 rounded-3xl shadow-md focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300 cursor-pointer text-lg"
                  >
                    <option value="">اختر الصف</option>
                    <option value="class5A">الخامس أ</option>
                    <option value="class6D">السادس د</option>
                    <option value="class6H">السادس هـ</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- بطاقة الأسابيع -->
            <div class="mb-8 w-full">
              <div
                dir="rtl"
                class="bg-gradient-to-r from-blue-50 to-gray-50 rounded-3xl p-8 shadow-xl text-right"
              >
                <!-- عنوان ونص -->
                <div class="mb-6">
                  <h3 class="text-3xl font-bold text-gray-800">
                    اختر الأسبوع :
                  </h3>
                  <p class="text-gray-600 mt-3">
                    اختر الأسبوع لمتابعة أداء نخبة الطلاب ونتائجهم المبهرة.
                  </p>
                </div>

                <!-- القائمة بعد النص -->
                <div>
                  <select
                    dir="rtl"
                    onchange="showWeekStudents(this.value)"
                    class="w-full bg-white border border-gray-300 text-gray-700 py-3 px-5 rounded-3xl shadow-md focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300 cursor-pointer text-lg"
                  >
                    <option value="">اختر الأسبوع</option>
                    <option value="week1">الأسبوع الأول</option>
                    <option value="week2">الأسبوع الثاني</option>
                    <option value="week3">الأسبوع الثالث</option>
                  </select>
                </div>
              </div>
            </div>

            <script>
              function showClassStudents(value) {
                console.log("الصف المختار:", value);
              }

              function showWeekStudents(value) {
                console.log("الأسبوع المختار:", value);
              }
            </script>

            <!-- Students Container -->
            <div id="studentsContainer" class="min-h-[400px]">
              <!-- Students content will be loaded dynamically -->
            </div>
          </div>
        </section>

        <!-- Reminders Section -->
        <section id="reminders" class="section hidden">
          <div class="bg-white rounded-2xl shadow-2xl p-8 mb-8">
            <div class="text-center mb-8">
              <h2 class="text-4xl font-bold gradient-text mb-4">
                التذكيرات والإعلانات
              </h2>
              <p class="text-xl text-neutral-600 leading-relaxed">
                تابع آخر الأخبار والإعلانات المهمة من الأستاذ علي العيسني
              </p>
            </div>

            <div id="remindersList" class="space-y-8">
              <!-- Reminders will be loaded here -->
            </div>
          </div>
        </section>

        <!-- Student Errors Section -->
        <section id="studentErrors" class="section hidden">
          <div class="bg-white rounded-2xl shadow-2xl p-8 mb-8">
            <div class="icon-text-container mb-8">
              <div
                class="feature-icon"
                style="background-color: var(--error-100)"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-10 w-10 text-error"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                >
                  <path
                    fill-rule="evenodd"
                    d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"
                    clip-rule="evenodd"
                  />
                </svg>
              </div>
              <div class="feature-text">
                <h2 class="text-3xl font-bold gradient-text">
                  ملف أخطائي الشخصي
                </h2>
                <p class="text-neutral-600 text-lg mt-2">
                  تعلم من أخطائك وحولها إلى نجاحات
                </p>
              </div>
            </div>

            <div id="savedErrorsContainer">
              <!-- Saved errors will be loaded here -->
            </div>
          </div>
        </section>

        <!-- Enhanced Admin Panel Section -->
        <section id="adminPanel" class="section hidden">
          <div class="bg-white rounded-2xl shadow-2xl p-8 mb-8">
            <div class="text-center mb-8">
              <h2 class="text-4xl font-bold gradient-text mb-4">لوحة التحكم</h2>
              <p class="text-xl text-neutral-600">
                إدارة شاملة لجميع عناصر المنصة التعليمية
              </p>
            </div>

            <!-- Admin Tabs -->
            <div class="border-b border-neutral-200 mb-8">
              <ul class="flex flex-wrap -mb-px text-sm font-medium text-center">
                <li class="ml-4">
                  <button
                    onclick="showAdminTab('adminExams')"
                    class="admin-tab inline-block p-4 border-b-2 rounded-t-lg active"
                    style="
                      border-color: var(--primary-600);
                      color: var(--primary-800);
                    "
                    aria-current="page"
                  >
                    إدارة الاختبارات
                  </button>
                </li>
                <li class="ml-4">
                  <button
                    onclick="showAdminTab('adminWorksheets')"
                    class="admin-tab inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-neutral-600 hover:border-neutral-300"
                  >
                    أوراق العمل
                  </button>
                </li>
                <li class="ml-4">
                  <button
                    onclick="showAdminTab('adminWeeklyPlans')"
                    class="admin-tab inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-neutral-600 hover:border-neutral-300"
                  >
                    الخطط الأسبوعية
                  </button>
                </li>
                <li class="ml-4">
                  <button
                    onclick="showAdminTab('adminStudents')"
                    class="admin-tab inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-neutral-600 hover:border-neutral-300"
                  >
                    الطلاب المتميزون
                  </button>
                </li>
                <li class="ml-4">
                  <button
                    onclick="showAdminTab('adminReminders')"
                    class="admin-tab inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-neutral-600 hover:border-neutral-300"
                  >
                    التذكيرات
                  </button>
                </li>
                <li class="ml-4">
                  <button
                    onclick="showAdminTab('adminPhotos')"
                    class="admin-tab inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-neutral-600 hover:border-neutral-300"
                  >
                    الإنجازات المصورة
                  </button>
                </li>
                <li class="ml-4">
                  <button
                    onclick="showAdminTab('adminAchievementFiles')"
                    class="admin-tab inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-neutral-600 hover:border-neutral-300"
                  >
                    ملفات الإنجاز
                  </button>
                </li>
                <li class="ml-4">
                  <button
                    onclick="showAdminTab('adminCodes')"
                    class="admin-tab inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-neutral-600 hover:border-neutral-300"
                  >
                    إدارة الأكواد
                  </button>
                </li>
                <li class="ml-4">
                  <button
                    onclick="showAdminTab('adminTracking')"
                    class="admin-tab inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-neutral-600 hover:border-neutral-300"
                  >
                    متابعة الطلاب
                  </button>
                </li>
              </ul>
            </div>

            <!-- Admin content will be loaded here -->
            <div id="adminContent">
              <!-- Admin tabs content will be loaded dynamically -->
            </div>
          </div>
        </section>

        <!-- Exam Taking Section -->
        <section id="examTaking" class="section hidden">
          <!-- Exam content will be loaded here -->
        </section>

        <!-- Exam Results Section -->
        <section id="examResults" class="section hidden">
          <!-- Results content will be loaded here -->
        </section>

        <!-- Modern Exam Editor -->
        <section id="examEditor" class="section hidden">
          <!-- New exam editing interface will be loaded here -->
        </section>
      </main>

      <!-- Professional Zoom Controls -->
      <div class="zoom-controls-container">
        <div class="zoom-controls">
          <button
            class="zoom-btn zoom-out"
            onclick="zoomOut()"
            title="تصغير"
            aria-label="تصغير"
          >
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
          </button>

          <div class="zoom-display">
            <span class="zoom-level" id="zoomLevel">100%</span>
          </div>

          <button
            class="zoom-btn zoom-in"
            onclick="zoomIn()"
            title="تكبير"
            aria-label="تكبير"
          >
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
          </button>
        </div>
      </div>

      <!-- Enhanced Image Modal -->
      <div id="imageModal" class="image-modal">
        <div class="modal-controls">
          <button
            class="modal-btn"
            onclick="downloadModalImage()"
            title="تحميل"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z"
              />
            </svg>
          </button>
          <button class="modal-btn" onclick="printModalImage()" title="طباعة">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"
              />
            </svg>
          </button>
          <button class="modal-btn" onclick="closeImageModal()" title="إغلاق">
            ×
          </button>
        </div>
        <img id="modalImage" src="" alt="عرض مكبر" />
      </div>

      <!-- Enhanced Footer -->
      <footer class="footer-section">
        <!-- Background Pattern -->
        <div class="footer-bg-pattern"></div>

        <div class="footer-container">
          <!-- Main Content -->
          <div class="footer-content">
            <!-- Brand Section -->
            <div class="footer-brand">
              <h3 class="footer-title">موقع الأستاذ علي العيسني للرياضيات</h3>
              <p class="footer-subtitle">
                منصة تعليمية متكاملة ومبتكرة للرياضيات
              </p>
              <p class="footer-tagline">نحو مستقبل مشرق في عالم الأرقام</p>
            </div>

            <!-- Social Links -->
            <div class="footer-social">
              <a href="#" class="social-link" aria-label="تويتر">
                <svg
                  class="social-icon"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path
                    d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"
                  />
                </svg>
              </a>

              <a href="#" class="social-link" aria-label="فيسبوك">
                <svg
                  class="social-icon"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path
                    d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"
                  />
                </svg>
              </a>

              <a href="#" class="social-link" aria-label="انستغرام">
                <svg
                  class="social-icon"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path
                    d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"
                  />
                </svg>
              </a>
            </div>
          </div>

          <!-- Divider -->
          <div class="footer-divider"></div>

          <!-- Copyright -->
          <div class="footer-copyright">
            <p class="copyright-text">
              &copy; 2025 موقع الأستاذ علي العيسني للرياضيات. جميع الحقوق
              محفوظة.
              <span class="developer-credit"
                >تم التطوير والتحسين بواسطة عمار</span
              >
            </p>
          </div>
        </div>
      </footer>

      <style>
        :root {
          --primary-400: #60a5fa;
          --success-400: #4ade80;
          --neutral-300: #d1d5db;
          --neutral-400: #9ca3af;
          --neutral-700: #374151;
          --neutral-800: #1f2937;
          --neutral-900: #111827;
        }

        .footer-section {
          position: relative;
          background: linear-gradient(
            135deg,
            var(--neutral-800) 0%,
            var(--neutral-900) 50%,
            var(--neutral-900) 100%
          );
          color: white;
          padding: 3rem 0;
          overflow: hidden;
        }

        .footer-bg-pattern {
          position: absolute;
          inset: 0;
          opacity: 0.05;
          background-image: radial-gradient(
              circle at 25% 25%,
              rgba(255, 255, 255, 0.1) 1px,
              transparent 1px
            ),
            radial-gradient(
              circle at 75% 75%,
              rgba(255, 255, 255, 0.1) 1px,
              transparent 1px
            );
          background-size: 50px 50px;
          background-position: 0 0, 25px 25px;
        }

        .footer-container {
          max-width: 1200px;
          margin: 0 auto;
          padding: 0 1rem;
          position: relative;
          z-index: 10;
        }

        .footer-content {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 2rem;
          text-align: center;
        }

        @media (min-width: 768px) {
          .footer-content {
            flex-direction: row;
            justify-content: space-between;
            text-align: right;
          }
        }

        .footer-brand {
          flex: 1;
        }

        .footer-title {
          font-size: 1.75rem;
          font-weight: 700;
          margin-bottom: 1rem;
          background: linear-gradient(
            90deg,
            var(--primary-400),
            var(--success-400)
          );
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          line-height: 1.2;
        }

        .footer-subtitle {
          color: var(--neutral-300);
          font-size: 1.125rem;
          margin-bottom: 0.5rem;
          font-weight: 500;
        }

        .footer-tagline {
          color: var(--neutral-400);
          font-size: 1rem;
          font-style: italic;
        }

        .footer-social {
          display: flex;
          gap: 1.5rem;
          flex-direction: row-reverse;
        }

        .social-link {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          width: 3rem;
          height: 3rem;
          border-radius: 50%;
          background: rgba(255, 255, 255, 0.1);
          color: var(--neutral-300);
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          backdrop-filter: blur(10px);
          border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .social-link:hover {
          color: var(--primary-400);
          background: rgba(96, 165, 250, 0.1);
          transform: translateY(-2px) scale(1.05);
          box-shadow: 0 10px 25px rgba(96, 165, 250, 0.2);
          border-color: var(--primary-400);
        }

        .social-icon {
          width: 1.25rem;
          height: 1.25rem;
        }

        .footer-divider {
          height: 1px;
          background: linear-gradient(
            90deg,
            transparent,
            var(--neutral-700),
            transparent
          );
          margin: 2rem 0;
        }

        .footer-copyright {
          text-align: center;
        }

        .copyright-text {
          color: var(--neutral-400);
          font-size: 1rem;
          line-height: 1.6;
        }

        .developer-credit {
          color: var(--primary-400);
          font-weight: 600;
          margin-right: 0.5rem;
        }

        /* Enhanced animations */
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .footer-section {
          animation: fadeInUp 0.8s ease-out;
        }

        /* Responsive improvements */
        @media (max-width: 767px) {
          .footer-title {
            font-size: 1.5rem;
          }

          .footer-subtitle {
            font-size: 1rem;
          }

          .footer-social {
            justify-content: center;
          }

          .social-link {
            width: 2.5rem;
            height: 2.5rem;
          }

          .social-icon {
            width: 1rem;
            height: 1rem;
          }
        }

        /* Accessibility improvements */
        @media (prefers-reduced-motion: reduce) {
          .social-link {
            transition: none;
          }

          .footer-section {
            animation: none;
          }
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
          .footer-section {
            background: #000;
            border-top: 2px solid #fff;
          }

          .footer-title {
            -webkit-text-fill-color: #fff;
            color: #fff;
          }
        }
      </style>

      <!-- Login Modal -->
      <div
        id="loginModal"
        class="fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center hidden backdrop-blur-sm"
      >
        <div class="login-modal-container">
          <!-- Background Decorations -->
          <div class="modal-decorations">
            <div class="decoration-shape decoration-1"></div>
            <div class="decoration-shape decoration-2"></div>
            <div class="decoration-shape decoration-3"></div>
          </div>

          <div
            class="login-modal bg-white rounded-3xl shadow-2xl p-6 sm:p-10 w-full max-w-sm sm:max-w-md mx-4 relative overflow-hidden"
          >
            <!-- Modal Header -->
            <div class="modal-header text-center mb-8">
              <div class="login-icon-container mb-4">
                <div
                  class="login-icon bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-3 sm:p-4 inline-flex"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-6 w-6 sm:h-8 sm:w-8 text-white"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                    />
                  </svg>
                </div>
              </div>
              <h3 class="text-2xl sm:text-3xl font-bold text-gray-800 mb-2">
                تسجيل الدخول
              </h3>
              <p class="text-gray-600 text-xs sm:text-sm">
                مرحباً بك في منصة الرياضيات التفاعلية
              </p>

              <button
                onclick="hideLoginModal()"
                class="close-button absolute top-3 right-3 sm:top-4 sm:right-4 text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-full transition-all duration-300 transform hover:scale-110"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-5 w-5 sm:h-6 sm:w-6"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M6 18L18 6M6 6l12 12"
                  />
                </svg>
              </button>
            </div>

            <!-- Login Form -->
            <div class="login-form space-y-5">
              <!-- Username Field -->
              <div class="form-group">
                <label
                  class="form-label block text-gray-700 mb-2 sm:mb-3 font-semibold flex items-center gap-2 text-sm sm:text-base"
                  for="username"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-4 w-4 sm:h-5 sm:w-5 text-green-600"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                    />
                  </svg>
                  اسم المستخدم
                </label>
                <div class="input-container relative">
                  <input
                    type="text"
                    id="username"
                    class="form-input w-full px-4 py-3 sm:px-5 sm:py-4 pr-10 sm:pr-12 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-3 focus:ring-green-200 focus:border-green-500 transition-all duration-300 text-right text-sm sm:text-base"
                    placeholder="أدخل اسم المستخدم"
                  />
                  <div
                    class="input-icon absolute right-3 sm:right-4 top-1/2 transform -translate-y-1/2 text-gray-400"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-4 w-4 sm:h-5 sm:w-5"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                      />
                    </svg>
                  </div>
                </div>
              </div>

              <!-- Student Code Field -->
              <div class="form-group">
                <label
                  class="form-label block text-gray-700 mb-2 sm:mb-3 font-semibold flex items-center gap-2 text-sm sm:text-base"
                  for="userCode"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-4 w-4 sm:h-5 sm:w-5 text-green-600"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
                    />
                  </svg>
                  كود الطالب
                </label>
                <div class="input-container relative">
                  <input
                    type="password"
                    id="userCode"
                    class="form-input w-full px-4 py-3 sm:px-5 sm:py-4 pr-10 sm:pr-12 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-3 focus:ring-green-200 focus:border-green-500 transition-all duration-300 text-right text-sm sm:text-base"
                    placeholder="أدخل كود الطالب"
                  />
                  <div
                    class="input-icon absolute right-3 sm:right-4 top-1/2 transform -translate-y-1/2 text-gray-400"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-4 w-4 sm:h-5 sm:w-5"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
                      />
                    </svg>
                  </div>
                </div>
              </div>

              <!-- Admin Code Field -->
              <div class="form-group">
                <label
                  class="form-label block text-gray-700 mb-2 sm:mb-3 font-semibold flex items-center gap-2 text-sm sm:text-base"
                  for="adminCode"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-4 w-4 sm:h-5 sm:w-5 text-amber-600"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"
                    />
                  </svg>
                  كود المسؤول (للمعلم فقط)
                </label>
                <div class="input-container relative">
                  <input
                    type="password"
                    id="adminCode"
                    class="form-input w-full px-4 py-3 sm:px-5 sm:py-4 pr-10 sm:pr-12 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-3 focus:ring-amber-200 focus:border-amber-500 transition-all duration-300 text-right text-sm sm:text-base"
                    placeholder="اتركه فارغاً إذا كنت طالباً"
                  />
                  <div
                    class="input-icon absolute right-3 sm:right-4 top-1/2 transform -translate-y-1/2 text-gray-400"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-4 w-4 sm:h-5 sm:w-5"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"
                      />
                    </svg>
                  </div>
                </div>
                <div
                  class="help-text mt-2 sm:mt-3 p-2 sm:p-3 bg-amber-50 rounded-lg border border-amber-200"
                >
                  <p
                    class="text-amber-700 text-xs sm:text-sm flex items-center gap-2"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-3 w-3 sm:h-4 sm:w-4 text-amber-500 flex-shrink-0"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                      />
                    </svg>
                    اتركه فارغاً إذا كنت طالباً، املأه فقط إذا كنت معلماً
                  </p>
                </div>
              </div>

              <!-- Login Button -->
              <div class="form-actions mt-6 sm:mt-8">
                <button
                  onclick="login()"
                  id="loginButton"
                  class="login-button w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white py-3 sm:py-4 px-4 sm:px-6 rounded-xl font-bold text-base sm:text-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl flex items-center justify-center gap-2 sm:gap-3"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="button-icon h-4 w-4 sm:h-5 sm:w-5"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"
                    />
                  </svg>
                  <span class="button-text">تسجيل الدخول</span>
                  <div class="button-shine"></div>
                </button>
              </div>

              <!-- Additional Info -->
              <div class="additional-info mt-4 sm:mt-6 text-center">
                <div
                  class="info-card bg-green-50 rounded-xl p-3 sm:p-4 border border-green-200"
                >
                  <p
                    class="text-green-700 text-xs sm:text-sm flex items-center justify-center gap-2"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-3 w-3 sm:h-4 sm:w-4 text-green-500 flex-shrink-0"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"
                      />
                    </svg>
                    مرحباً بك في رحلة تعلم الرياضيات الممتعة
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <style>
        /* Login Modal Container */
        .login-modal-container {
          position: relative;
          animation: modalSlideIn 0.4s ease-out;
          width: 100%;
          max-height: 100vh;
          overflow-y: auto;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 1rem;
        }

        @keyframes modalSlideIn {
          from {
            opacity: 0;
            transform: translateY(-20px) scale(0.95);
          }
          to {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }

        /* Modal Decorations */
        .modal-decorations {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          pointer-events: none;
          z-index: 1;
        }

        .decoration-shape {
          position: absolute;
          border-radius: 50%;
          background: rgba(34, 197, 94, 0.08);
          animation: gentleFloat 12s infinite ease-in-out;
        }

        .decoration-1 {
          width: 60px;
          height: 60px;
          top: -30px;
          right: -30px;
          animation-delay: 0s;
        }

        .decoration-2 {
          width: 40px;
          height: 40px;
          bottom: -20px;
          left: -20px;
          animation-delay: -4s;
        }

        .decoration-3 {
          width: 80px;
          height: 80px;
          top: 60%;
          right: -40px;
          animation-delay: -8s;
        }

        /* Login Modal */
        .login-modal {
          position: relative;
          z-index: 10;
          backdrop-filter: blur(10px);
          border: 1px solid rgba(255, 255, 255, 0.2);
          max-height: 90vh;
          overflow-y: auto;
        }

        /* Modal Header */
        .login-icon-container {
          animation: iconBounce 2s ease-in-out infinite;
        }

        @keyframes iconBounce {
          0%,
          100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-3px);
          }
        }

        .close-button {
          z-index: 20;
        }

        .close-button:hover {
          background: rgba(239, 68, 68, 0.1);
          color: #dc2626;
        }

        /* Form Styling */
        .form-group {
          position: relative;
        }

        .form-label {
          color: #374151;
          font-weight: 600;
        }

        .input-container {
          position: relative;
        }

        .form-input {
          background: rgba(249, 250, 251, 0.8);
          border: 2px solid #e5e7eb;
          font-weight: 500;
          transition: all 0.3s ease;
        }

        .form-input:focus {
          background: white;
          transform: translateY(-1px);
          box-shadow: 0 6px 20px rgba(34, 197, 94, 0.1);
        }

        .form-input::placeholder {
          color: #9ca3af;
          font-weight: 400;
        }

        .input-icon {
          transition: all 0.3s ease;
        }

        .form-input:focus + .input-icon {
          color: #22c55e;
          transform: translateY(-50%) scale(1.1);
        }

        /* Admin Code Special Styling */
        #adminCode:focus {
          border-color: #f59e0b;
          box-shadow: 0 6px 20px rgba(245, 158, 11, 0.1);
        }

        #adminCode:focus + .input-icon {
          color: #f59e0b;
        }

        /* Help Text */
        .help-text {
          animation: fadeInUp 0.3s ease-out;
        }

        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(8px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        /* Login Button */
        .login-button {
          position: relative;
          overflow: hidden;
          box-shadow: 0 6px 20px rgba(34, 197, 94, 0.3);
        }

        .login-button:hover {
          box-shadow: 0 8px 25px rgba(34, 197, 94, 0.4);
        }

        .button-shine {
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(
            90deg,
            transparent,
            rgba(255, 255, 255, 0.2),
            transparent
          );
          transition: left 0.6s;
        }

        .login-button:hover .button-shine {
          left: 100%;
        }

        /* Mobile Specific Improvements */
        @media (max-width: 640px) {
          .login-modal-container {
            padding: 0.5rem;
            align-items: flex-start;
            padding-top: 2rem;
          }

          .login-modal {
            max-width: 100%;
            width: 100%;
            max-height: 95vh;
            margin: 0;
          }

          .modal-header {
            margin-bottom: 1.5rem;
          }

          .login-form {
            gap: 1rem;
          }

          .form-group {
            margin-bottom: 0;
          }

          .decoration-shape {
            display: none; /* Hide decorations on mobile for cleaner look */
          }
        }

        /* Extra small screens */
        @media (max-width: 480px) {
          .login-modal {
            border-radius: 1.5rem;
            padding: 1rem;
          }

          .login-icon-container .login-icon {
            padding: 0.75rem;
          }

          .form-input {
            padding: 0.75rem;
            padding-right: 2.5rem;
          }

          .input-icon {
            right: 0.75rem;
          }
        }

        /* Gentle animations */
        @keyframes gentleFloat {
          0%,
          100% {
            transform: translateY(0px) rotate(0deg);
            opacity: 0.3;
          }
          50% {
            transform: translateY(-6px) rotate(180deg);
            opacity: 0.6;
          }
        }

        /* Prevent zoom on input focus for iOS */
        @media screen and (-webkit-min-device-pixel-ratio: 0) {
          .form-input {
            font-size: 16px;
          }
        }
      </style>

      <!-- Notification -->
      <div
        id="notification"
        class="fixed top-4 right-4 text-white px-8 py-4 rounded-xl shadow-2xl transform transition-transform duration-300 translate-y-[-100px] opacity-0 flex items-center z-50 max-w-md"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6 ml-3"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
          />
        </svg>
        <span id="notificationText" class="font-medium text-lg">تم بنجاح!</span>
      </div>
    </div>
    <script src="script.js"></script>
  </body>
</html>
